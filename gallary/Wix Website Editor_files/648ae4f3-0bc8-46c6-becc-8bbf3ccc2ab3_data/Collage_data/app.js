/*! Collage - v0.110.4 - 2015-12-24 */function SimpleAppProto(a){var b=this;b.editMode=Wix.Utils.getViewMode(),b.deviceType=Wix.Utils.getDeviceType?Wix.Utils.getDeviceType():"desktop",b.isMobile="mobile"==b.deviceType,b.el=a,_.isFunction(b.updateSettings)||(b.updateSettings=function(){}),Wix.addEventListener(Wix.Events.SETTINGS_UPDATED,_.bind(b.handleSettingsEvent,b)),Wix.addEventListener(Wix.Events.EDIT_MODE_CHANGE,_.bind(b.handleEditModeEvent,b)),Wix.getSiteInfo(function(a){a&&a.url&&/editor.wix/.test(a.url)&&!/feedback=true/.test(a.url)?b.handleEditModeEvent({editMode:"editor"}):b.handleEditModeEvent({editMode:b.editMode})}),_.isFunction(b.destroy)&&Wix.addEventListener(Wix.Events.COMPONENT_DELETED,_.bind(b.destroy,b)),_.isFunction(b.navigate)&&Wix.addEventListener(Wix.Events.PAGE_NAVIGATION_CHANGE,_.bind(b.navigate,b)),_.isFunction(b.publish)&&Wix.addEventListener(Wix.Events.SITE_PUBLISHED,_.bind(b.publish,b)),_.isFunction(b.resize)&&$(window).on("resize",_.bind(b.resize,b)),Wix.pushState(JSON.stringify({cmd:"componentReady",id:Wix.Utils.getCompId()}))}function SimpleAppOverlay(a){var b=this;return b.overlay=$("<div></div>").appendTo("body"),b.el=a,b.hide(),b.overlay.on("click",function(){b.hide()}),b}!function(a){function b(a){if(a){if("string"==typeof d[a])return a;a=a.charAt(0).toUpperCase()+a.slice(1);for(var b,e=0,f=c.length;f>e;e++)if(b=c[e]+a,"string"==typeof d[b])return b}}var c=["Webkit","Moz","ms","Ms","O"],d=document.documentElement.style;"function"==typeof define&&define.amd?define(function(){return b}):a.getStyleProperty=b}(window),function(a,b){function c(a){var b=parseFloat(a);return-1===a.indexOf("%")&&!isNaN(b)&&b}function d(a){var b,d=a("boxSizing");return function(){if(d){var a=document.createElement("div");a.style.width="200px",a.style.padding="1px 2px 3px 4px",a.style.borderStyle="solid",a.style.borderWidth="1px 2px 3px 4px",a.style[d]="border-box";var e=document.body||document.documentElement;e.appendChild(a);var g=f(a);b=200===c(g.width),e.removeChild(a)}}(),function(a){if("string"==typeof a&&(a=document.querySelector(a)),a&&"object"==typeof a&&a.nodeType){var e=f(a);if("none"===e.display){var h={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;for(a=g.length;a>e;e++)h[g[e]]=0;return h}h={},h.width=a.offsetWidth,h.height=a.offsetHeight,a=h.isBorderBox=!(!d||!e[d]||"border-box"!==e[d]);for(var i=0,j=g.length;j>i;i++){var k=g[i],l=parseFloat(e[k]);h[k]=isNaN(l)?0:l}var i=h.paddingLeft+h.paddingRight,j=h.paddingTop+h.paddingBottom,k=h.marginLeft+h.marginRight,l=h.marginTop+h.marginBottom,m=h.borderLeftWidth+h.borderRightWidth,n=h.borderTopWidth+h.borderBottomWidth;a=a&&b;var o=c(e.width);return!1!==o&&(h.width=o+(a?0:i+m)),e=c(e.height),!1!==e&&(h.height=e+(a?0:j+n)),h.innerWidth=h.width-(i+m),h.innerHeight=h.height-(j+n),h.outerWidth=h.width+k,h.outerHeight=h.height+l,h}}}var e=document.defaultView,f=e&&e.getComputedStyle?function(a){return e.getComputedStyle(a,null)||a.style||{}}:function(a){return a.currentStyle},g="paddingLeft paddingRight paddingTop paddingBottom marginLeft marginRight marginTop marginBottom borderLeftWidth borderRightWidth borderTopWidth borderBottomWidth".split(" ");"function"==typeof define&&define.amd?define(["get-style-property/get-style-property"],d):a.getSize=d(a.getStyleProperty)}(window),function(a,b){function c(a,b){return a[g](b)}function d(a,b){a.parentNode||document.createDocumentFragment().appendChild(a);for(var c=a.parentNode.querySelectorAll(b),d=0,e=c.length;e>d;d++)if(c[d]===a)return!0;return!1}function e(a,b){return a.parentNode||document.createDocumentFragment().appendChild(a),c(a,b)}var f,g=function(){if(b.matchesSelector)return"matchesSelector";for(var a=["webkit","moz","ms","o"],c=0,d=a.length;d>c;c++){var e=a[c]+"MatchesSelector";if(b[e])return e}}();if(g){var h=document.createElement("div");f=c(h,"div")?c:e}else f=d;"function"==typeof define&&define.amd?define(function(){return f}):window.matchesSelector=f}(this,Element.prototype),function(){function a(){}function b(a,b){for(var c=a.length;c--;)if(a[c].listener===b)return c;return-1}var c=a.prototype;c.getListeners=function(a){var b,c,d=this._getEvents();if("object"==typeof a)for(c in b={},d)d.hasOwnProperty(c)&&a.test(c)&&(b[c]=d[c]);else b=d[a]||(d[a]=[]);return b},c.flattenListeners=function(a){var b,c=[];for(b=0;b<a.length;b+=1)c.push(a[b].listener);return c},c.getListenersAsObject=function(a){var b,c=this.getListeners(a);return c instanceof Array&&(b={},b[a]=c),b||c},c.addListener=function(a,c){var d,e=this.getListenersAsObject(a),f="object"==typeof c;for(d in e)e.hasOwnProperty(d)&&-1===b(e[d],c)&&e[d].push(f?c:{listener:c,once:!1});return this},c.on=c.addListener,c.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})},c.once=c.addOnceListener,c.defineEvent=function(a){return this.getListeners(a),this},c.defineEvents=function(a){for(var b=0;b<a.length;b+=1)this.defineEvent(a[b]);return this},c.removeListener=function(a,c){var d,e,f=this.getListenersAsObject(a);for(e in f)f.hasOwnProperty(e)&&(d=b(f[e],c),-1!==d&&f[e].splice(d,1));return this},c.off=c.removeListener,c.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)},c.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)},c.manipulateListeners=function(a,b,c){var d,e,f=a?this.removeListener:this.addListener;if(a=a?this.removeListeners:this.addListeners,"object"!=typeof b||b instanceof RegExp)for(d=c.length;d--;)f.call(this,b,c[d]);else for(d in b)b.hasOwnProperty(d)&&(e=b[d])&&("function"==typeof e?f.call(this,d,e):a.call(this,d,e));return this},c.removeEvent=function(a){var b,c=typeof a,d=this._getEvents();if("string"===c)delete d[a];else if("object"===c)for(b in d)d.hasOwnProperty(b)&&a.test(b)&&delete d[b];else delete this._events;return this},c.emitEvent=function(a,b){var c,d,e,f,g=this.getListenersAsObject(a);for(e in g)if(g.hasOwnProperty(e))for(d=g[e].length;d--;)c=g[e][d],f=c.listener.apply(this,b||[]),f!==this._getOnceReturnValue()&&!0!==c.once||this.removeListener(a,c.listener);return this},c.trigger=c.emitEvent,c.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)},c.setOnceReturnValue=function(a){return this._onceReturnValue=a,this},c._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},c._getEvents=function(){return this._events||(this._events={})},"function"==typeof define&&define.amd?define(function(){return a}):"undefined"!=typeof module&&module.exports?module.exports=a:this.EventEmitter=a}.call(this),function(a){var b=document.documentElement,c=function(){};b.addEventListener?c=function(a,b,c){a.addEventListener(b,c,!1)}:b.attachEvent&&(c=function(b,c,d){b[c+d]=d.handleEvent?function(){var b=a.event;b.target=b.target||b.srcElement,d.handleEvent.call(d,b)}:function(){var c=a.event;c.target=c.target||c.srcElement,d.call(b,c)},b.attachEvent("on"+c,b[c+d])});var d=function(){};b.removeEventListener?d=function(a,b,c){a.removeEventListener(b,c,!1)}:b.detachEvent&&(d=function(a,b,c){a.detachEvent("on"+b,a[b+c]);try{delete a[b+c]}catch(d){a[b+c]=void 0}}),b={bind:c,unbind:d},"function"==typeof define&&define.amd?define(b):a.eventie=b}(this),function(a){function b(a){"function"==typeof a&&(b.isReady?a():f.push(a))}function c(a){if(a="readystatechange"===a.type&&"complete"!==e.readyState,!b.isReady&&!a){b.isReady=!0,a=0;for(var c=f.length;c>a;a++)f[a]()}}function d(d){return d.bind(e,"DOMContentLoaded",c),d.bind(e,"readystatechange",c),d.bind(a,"load",c),b}var e=a.document,f=[];b.isReady=!1,"function"==typeof define&&define.amd?(b.isReady="function"==typeof requirejs,define(["eventie/eventie"],d)):a.docReady=d(a.eventie)}(this),function(a){function b(a,b){(c(a,b)?e:d)(a,b)}var c,d,e;"classList"in document.documentElement?(c=function(a,b){return a.classList.contains(b)},d=function(a,b){a.classList.add(b)},e=function(a,b){a.classList.remove(b)}):(c=function(a,b){return RegExp("(^|\\s+)"+b+"(\\s+|$)").test(a.className)},d=function(a,b){c(a,b)||(a.className=a.className+" "+b)},e=function(a,b){a.className=a.className.replace(RegExp("(^|\\s+)"+b+"(\\s+|$)")," ")});var f={hasClass:c,addClass:d,removeClass:e,toggleClass:b,has:c,add:d,remove:e,toggle:b};"function"==typeof define&&define.amd?define(f):a.classie=f}(window),function(a){function b(a){for(var c in b.defaults)this[c]=b.defaults[c];for(c in a)this[c]=a[c]}(a.Packery=function(){}).Rect=b,b.defaults={x:0,y:0,width:0,height:0},b.prototype.contains=function(a){var b=a.width||0,c=a.height||0;return this.x<=a.x&&this.y<=a.y&&this.x+this.width>=a.x+b&&this.y+this.height>=a.y+c},b.prototype.overlaps=function(a){var b=this.x+this.width,c=this.y+this.height,d=a.y+a.height;return this.x<a.x+a.width&&b>a.x&&this.y<d&&c>a.y},b.prototype.getMaximalFreeRects=function(a){if(!this.overlaps(a))return!1;var c,d=[],e=this.x+this.width,f=this.y+this.height,g=a.x+a.width,h=a.y+a.height;return this.y<a.y&&(c=new b({x:this.x,y:this.y,width:this.width,height:a.y-this.y}),d.push(c)),e>g&&(c=new b({x:g,y:this.y,width:e-g,height:this.height}),d.push(c)),f>h&&(c=new b({x:this.x,y:h,width:this.width,height:f-h}),d.push(c)),this.x<a.x&&(c=new b({x:this.x,y:this.y,width:a.x-this.x,height:this.height}),d.push(c)),d},b.prototype.canFit=function(a){return this.width>=a.width&&this.height>=a.height}}(window),function(a){function b(a,b){this.width=a||0,this.height=b||0,this.reset()}a=a.Packery;var c=a.Rect;b.prototype.reset=function(){this.spaces=[],this.newSpaces=[];var a=new c({x:0,y:0,width:this.width,height:this.height});this.spaces.push(a)},b.prototype.pack=function(a,b){for(var c=0,d=this.spaces.length;d>c;c++){var e=this.spaces[c];if(e.canFit(a)){this.placeInSpace(a,e,b);break}}},b.prototype.placeInSpace=function(a,b,c){a.x=b.x,a.y=b.y,this.placed(a,c)},b.prototype.placed=function(a,c){for(var d=[],e=0,f=this.spaces.length;f>e;e++){var g=this.spaces[e],h=g.getMaximalFreeRects(a);h?d.push.apply(d,h):d.push(g)}this.spaces=d,b.mergeRects(this.spaces),"horizontal"==c?this.spaces.sort(b.spaceSorterLeftTop):this.spaces.sort(b.spaceSorterTopLeft)},b.mergeRects=function(a){for(var b=0,c=a.length;c>b;b++){var d=a[b];if(d){var e=a.slice(0);e.splice(b,1);for(var f=0,g=0,h=e.length;h>g;g++){var i=b>g?0:1;d.contains(e[g])&&(a.splice(g+i-f,1),f++)}}}return a},b.spaceSorterTopLeft=function(a,b){return a.y-b.y||a.x-b.x},b.spaceSorterLeftTop=function(a,b){return a.x-b.x||a.y-b.y},a.Packer=b}(window),function(a){function b(a,b){this.element=a,this.packery=b,this.position={x:0,y:0},this.rect=new d,this.placeRect=new d,this.element.style.position="absolute"}var c=a.Packery,d=c.Rect,e=a.getSize,f=a.getStyleProperty;a=a.EventEmitter;var g=document.defaultView,h=g&&g.getComputedStyle?function(a){return g.getComputedStyle(a,null)||a.style||{}}:function(a){return a.currentStyle},i=f("transition"),j=f("transform"),k=i&&j,f=!!f("perspective"),l={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[i],m={WebkitTransform:"-webkit-transform",MozTransform:"-moz-transform",OTransform:"-o-transform",transform:"transform"}[j];!function(a,b){for(var c in b)a[c]=b[c];return a}(b.prototype,a.prototype),b.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},b.prototype.getSize=function(){this.size=e(this.element)},b.prototype.css=function(a){var b,c=this.element.style;for(b in a)c[b]=a[b]},b.prototype.getPosition=function(){var a=h(this.element),b=parseInt(a.left,10),a=parseInt(a.top,10),b=isNaN(b)?0:b,a=isNaN(a)?0:a,c=this.packery.elementSize,b=b-c.paddingLeft,a=a-c.paddingTop;this.position.x=b,this.position.y=a};var n=f?function(a,b){return"translate3d( "+a+"px, "+b+"px, 0)"}:function(a,b){return"translate( "+a+"px, "+b+"px)"};b.prototype._transitionTo=function(a,b){this.getPosition();var c=this.position.x,d=this.position.y,e=parseInt(a,10),f=parseInt(b,10),e=e===this.position.x&&f===this.position.y;this.setPosition(a,b),e&&!this.isTransitioning?this.layoutPosition():(e={},e[m]=n(a-c,b-d),this.transition(e,this.layoutPosition))},b.prototype.goTo=function(a,b){this.setPosition(a,b),this.layoutPosition()},b.prototype.moveTo=k?b.prototype._transitionTo:b.prototype.goTo,b.prototype.setPosition=function(a,b){this.position.x=parseInt(a,10),this.position.y=parseInt(b,10)},b.prototype.layoutPosition=function(){var a=this.packery.elementSize;this.css({left:this.position.x+a.paddingLeft+"px",top:this.position.y+a.paddingTop+"px"}),this.emitEvent("layout",[this])},b.prototype._nonTransition=function(a,b){this.css(a),b&&b.call(this)},b.prototype._transition=function(a,b){this.transitionStyle=a;var c,d=[];for(c in a)d.push(c);c={},c[i+"Property"]=d.join(","),c[i+"Duration"]=this.packery.options.transitionDuration,this.element.addEventListener(l,this,!1),b&&this.on("transitionEnd",function(a){return b.call(a),!0}),this.css(c),this.css(a),this.isTransitioning=!0},b.prototype.transition=b.prototype[i?"_transition":"_nonTransition"],b.prototype.onwebkitTransitionEnd=function(a){this.ontransitionend(a)},b.prototype.onotransitionend=function(a){this.ontransitionend(a)},b.prototype.ontransitionend=function(a){if(a.target===this.element){this.onTransitionEnd&&(this.onTransitionEnd(),delete this.onTransitionEnd),this.removeTransitionStyles(),a={};for(var b in this.transitionStyle)a[b]="";this.css(a),this.element.removeEventListener(l,this,!1),delete this.transitionStyle,this.isTransitioning=!1,this.emitEvent("transitionEnd",[this])}},b.prototype.removeTransitionStyles=function(){var a={};a[i+"Property"]="",a[i+"Duration"]="",this.css(a)},b.prototype.remove=function(){var a={opacity:0};a[m]="scale(0.001)",this.transition(a,this.removeElem)},b.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},b.prototype.reveal=i?function(){var a={opacity:0};a[m]="scale(0.001)",this.css(a),a={opacity:1},a[m]="scale(1)",this.transition(a)}:function(){},b.prototype.destroy=function(){this.css({position:"",left:"",top:""})},b.prototype.dragStart=function(){this.getPosition(),this.removeTransitionStyles(),this.isTransitioning&&j&&(this.element.style[j]="none"),this.getSize(),this.isPlacing=!0,this.needsPositioning=!1,this.positionPlaceRect(this.position.x,this.position.y),this.didDrag=this.isTransitioning=!1},b.prototype.dragMove=function(a,b){this.didDrag=!0;var c=this.packery.elementSize;a-=c.paddingLeft,b-=c.paddingTop,this.positionPlaceRect(a,b)},b.prototype.dragStop=function(){this.getPosition();var a=this.position.y!==this.placeRect.y;this.needsPositioning=this.position.x!==this.placeRect.x||a,this.didDrag=!1},b.prototype.positionPlaceRect=function(a,b,c){this.placeRect.x=this.getPlaceRectCoord(a,!0),this.placeRect.y=this.getPlaceRectCoord(b,!1,c)},b.prototype.getPlaceRectCoord=function(a,b,c){var d=b?"Width":"Height",e=this.size["outer"+d],f=this.packery[b?"columnWidth":"rowHeight"],d=this.packery.elementSize["inner"+d];return b||(d=Math.max(d,this.packery.maxY),this.packery.rowHeight||(d-=this.packery.gutter)),f?(f+=this.packery.gutter,d+=b?this.packery.gutter:0,a=Math.round(a/f),b=Math[b?"floor":"ceil"](d/f),e=b-=Math.ceil(e/f)):e=d-e,a=c?a:Math.min(a,e),Math.max(0,a*(f||1))},b.prototype.copyPlaceRectPosition=function(){this.rect.x=this.placeRect.x,this.rect.y=this.placeRect.y},c.Item=b}(window),function(a){function b(a,b){for(var c in b)a[c]=b[c];return a}function c(a){var b=[];if("number"==typeof a.length)for(var c=0,d=a.length;d>c;c++)b.push(a[c]);else b.push(a);return b}function d(a,c){if(a&&p(a)){this.element=a,this.options=b({},this.options),b(this.options,c);var d=++r;this.element.packeryGUID=d,s[d]=this,this._create(),this.options.isInitLayout&&this.layout()}else n&&n.error("bad Packery element: "+a)}var e=a.Packery,f=e.Rect,g=e.Packer,h=e.Item,i=a.classie,e=a.docReady,j=a.eventie,k=a.getSize,l=a.matchesSelector,m=a.document,n=a.console,o=a.jQuery,p="object"==typeof HTMLElement?function(a){return a instanceof HTMLElement}:function(a){return a&&"object"==typeof a&&1===a.nodeType&&"string"==typeof a.nodeName},q=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},r=0,s={};b(d.prototype,a.EventEmitter.prototype),d.prototype.options={containerStyle:{position:"relative"},layoutMode:"horizontal",isInitLayout:!0,isResizeBound:!0,transitionDuration:"0.4s"},d.prototype._create=function(){this.packer=new g,this.reloadItems(),this.stampedElements=[],this.stamp(this.options.stamped),b(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize();var a=this;this.handleDraggabilly={dragStart:function(b){a.itemDragStart(b.element)},dragMove:function(b){a.itemDragMove(b.element,b.position.x,b.position.y)},dragEnd:function(b){a.itemDragEnd(b.element)}},this.handleUIDraggable={start:function(b){a.itemDragStart(b.currentTarget)},drag:function(b,c){a.itemDragMove(b.currentTarget,c.position.left,c.position.top)},stop:function(b){a.itemDragEnd(b.currentTarget)}}},d.prototype.reloadItems=function(){this.items=this._getItems(this.element.children)},d.prototype._getItems=function(a){a=this._filterFindItemElements(a);for(var b=[],c=0,d=a.length;d>c;c++){var e=new h(a[c],this);b.push(e)}return b},d.prototype._filterFindItemElements=function(a){a=c(a);var b=this.options.itemSelector;if(!b)return a;for(var d=[],e=0,f=a.length;f>e;e++){var g=a[e];l(g,b)&&d.push(g);for(var g=g.querySelectorAll(b),h=0,i=g.length;i>h;h++)d.push(g[h])}return d},d.prototype.getItemElements=function(){for(var a=[],b=0,c=this.items.length;c>b;b++)a.push(this.items[b].element);return a},d.prototype.layout=function(){this._prelayout(),this.layoutItems(this.items,void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited),this._isLayoutInited=!0},d.prototype._init=d.prototype.layout,d.prototype._prelayout=function(){this.elementSize=k(this.element),this._getMeasurements(),"horizontal"==this.options.layoutMode?(this.packer.width=Number.POSITIVE_INFINITY,this.packer.height=this.elementSize.innerHeight+this.gutter):(this.packer.width=this.elementSize.innerWidth+this.gutter,this.packer.height=Number.POSITIVE_INFINITY),this.packer.reset(),this.maxY=this.maxX=0,this.placeStampedElements()},d.prototype._getMeasurements=function(){this._getMeasurement("columnWidth","width"),this._getMeasurement("rowHeight","height"),this._getMeasurement("gutter","width")},d.prototype._getMeasurement=function(a,b){var c,d=this.options[a];d?("string"==typeof d?c=this.element.querySelector(d):p(d)&&(c=d),this[a]=c?k(c)[b]:d):this[a]=0},d.prototype.layoutItems=function(a,b){var c=this._getLayoutItems(a);if(c&&c.length){this._itemsOn(c,"layout",function(){this.emitEvent("layoutComplete",[this,c])});for(var d=0,e=c.length;e>d;d++){var f=c[d];this._packItem(f),this._layoutItem(f,b)}}else this.emitEvent("layoutComplete",[this,[]]);this._setContainerSize()},d.prototype._setContainerSize=function(){var a=this.elementSize;if("horizontal"==this.options.layoutMode){var b=this.maxX-this.gutter;a.isBorderBox&&(b+=a.paddingLeft+a.paddingRight+a.borderRightWidth+a.borderLeftWidth),b=Math.max(b,0),this.element.style.width=b+"px"}else b=this.maxY-this.gutter,a.isBorderBox&&(b+=a.paddingBottom+a.paddingTop+a.borderTopWidth+a.borderBottomWidth),b=Math.max(b,0),this.element.style.height=b+"px"},d.prototype._getLayoutItems=function(a){for(var b=[],c=0,d=a.length;d>c;c++){var e=a[c];e.isIgnored||b.push(e)}return b},d.prototype._packItem=function(a){this._setRectSize(a.element,a.rect),this.packer.pack(a.rect,this.options.layoutMode),"horizontal"==this.options.layoutMode?this._setMaxX(a.rect):this._setMaxY(a.rect)},d.prototype._setMaxX=function(a){this.maxX=Math.max(a.x+a.width,this.maxX)},d.prototype._setMaxY=function(a){this.maxY=Math.max(a.y+a.height,this.maxY)},d.prototype._setRectSize=function(a,b){var c=k(a),d=c.outerWidth,c=c.outerHeight,e=this.columnWidth+this.gutter,f=this.rowHeight+this.gutter,d=this.columnWidth?Math.ceil(d/e)*e:d+this.gutter,c=this.rowHeight?Math.ceil(c/f)*f:c+this.gutter;"horizontal"==this.options.layoutMode?(b.width=d,b.height=Math.min(c,this.packer.height)):(b.width=Math.min(d,this.packer.width),b.height=c)},d.prototype._layoutItem=function(a,b){var c=a.rect;b?a.goTo(c.x,c.y):a.moveTo(c.x,c.y)},d.prototype._itemsOn=function(a,b,c){function d(){return e++,e===f&&c.call(g),!0}for(var e=0,f=a.length,g=this,h=0,i=a.length;i>h;h++)a[h].on(b,d)},d.prototype.stamp=function(a){if(a){"string"==typeof a&&(a=this.element.querySelectorAll(a)),a=c(a),this.stampedElements.push.apply(this.stampedElements,a);for(var b=0,d=a.length;d>b;b++)this.ignore(a[b])}},d.prototype.unstamp=function(a){if(a){a=c(a);for(var b=0,d=a.length;d>b;b++){var e=a[b],f=q(this.stampedElements,e);-1!==f&&this.stampedElements.splice(f,1),this.unignore(e)}}},d.prototype.placeStampedElements=function(){if(this.stampedElements&&this.stampedElements.length){this._getBounds();for(var a=0,b=this.stampedElements.length;b>a;a++)this.placeStamp(this.stampedElements[a])}},d.prototype._getBounds=function(){var a=this.element.getBoundingClientRect();this._boundingLeft=a.left+this.elementSize.paddingLeft,this._boundingTop=a.top+this.elementSize.paddingTop},d.prototype.placeStamp=function(a){var b,c=this.getItem(a);b=c&&c.isPlacing?c.placeRect:this._getElementOffsetRect(a),this._setRectSize(a,b),this.packer.placed(b,this.options.layoutMode),"horizontal"==this.options.layoutMode?this._setMaxX(c.rect):this._setMaxY(c.rect)},d.prototype._getElementOffsetRect=function(a){return a=a.getBoundingClientRect(),a=new f({x:a.left-this._boundingLeft,y:a.top-this._boundingTop}),a.x-=this.elementSize.borderLeftWidth,a.y-=this.elementSize.borderTopWidth,a},d.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},d.prototype.bindResize=function(){this.isResizeBound||(j.bind(a,"resize",this),this.isResizeBound=!0)},d.prototype.unbindResize=function(){j.unbind(a,"resize",this),this.isResizeBound=!1},d.prototype.onresize=function(){this.resizeTimeout&&clearTimeout(this.resizeTimeout);var a=this;this.resizeTimeout=setTimeout(function(){a.resize()},100)},d.prototype.resize=function(){var a=k(this.element);this.elementSize&&a&&a.innerWidth===this.elementSize.innerWidth||(this.layout(),delete this.resizeTimeout)},d.prototype.addItems=function(a){return a=this._getItems(a),a.length?(this.items.push.apply(this.items,a),a):void 0},d.prototype.appended=function(a){a=this.addItems(a),a.length&&(this.layoutItems(a,!0),this.reveal(a))},d.prototype.prepended=function(a){if(a=this._getItems(a),a.length){var b=this.items.slice(0);this.items=a.concat(b),this._prelayout(),this.layoutItems(a,!0),this.reveal(a),this.layoutItems(b)}},d.prototype.reveal=function(a){if(a&&a.length)for(var b=0,c=a.length;c>b;b++)a[b].reveal()},d.prototype.getItem=function(a){for(var b=0,c=this.items.length;c>b;b++){var d=this.items[b];if(d.element===a)return d}},d.prototype.getItems=function(a){if(a&&a.length){for(var b=[],c=0,d=a.length;d>c;c++){var e=this.getItem(a[c]);e&&b.push(e)}return b}},d.prototype.remove=function(a){a=c(a);var b=this.getItems(a);this._itemsOn(b,"remove",function(){this.emitEvent("removeComplete",[this,b])}),a=0;for(var d=b.length;d>a;a++){var e=b[a];e.remove(),e=q(this.items,e),this.items.splice(e,1)}},d.prototype.ignore=function(a){(a=this.getItem(a))&&(a.isIgnored=!0)},d.prototype.unignore=function(a){(a=this.getItem(a))&&delete a.isIgnored},d.prototype.sortItemsByPosition=function(){this.items.sort(function(a,b){return a.position.y-b.position.y||a.position.x-b.position.x})},d.prototype.fit=function(a,b,c){function d(){g++,2===g&&f.emitEvent("fitComplete",[f,e])}var e=this.getItem(a);if(e){this._getMeasurements(),this.stamp(e.element),e.getSize(),e.isPlacing=!0,b=void 0===b?e.rect.x:b,c=void 0===c?e.rect.y:c,e.positionPlaceRect(b,c,!0);var f=this,g=0;e.on("layout",function(){return d(),!0}),this.on("layoutComplete",function(){return d(),!0}),e.moveTo(e.placeRect.x,e.placeRect.y),this.layout(),this.unstamp(e.element),this.sortItemsByPosition(),e.isPlacing=!1,e.copyPlaceRectPosition()}},d.prototype.itemDragStart=function(a){this.stamp(a),(a=this.getItem(a))&&a.dragStart()},d.prototype.itemDragMove=function(a,b,c){(a=this.getItem(a))&&a.dragMove(b,c);var d=this;this.clearDragTimeout(),this.dragTimeout=setTimeout(function(){d.layout(),delete d.dragTimeout},40)},d.prototype.clearDragTimeout=function(){this.dragTimeout&&clearTimeout(this.dragTimeout)},d.prototype.itemDragEnd=function(a){function b(){return g++,g!==f?!0:(d&&(i.remove(d.element,"is-positioning-post-drag"),d.isPlacing=!1,d.copyPlaceRectPosition()),h.unstamp(a),h.sortItemsByPosition(),d&&e&&h.emitEvent("dragItemPositioned",[h,d]),!0)}var c,d=this.getItem(a);if(d&&(c=d.didDrag,d.dragStop()),d&&(c||d.needsPositioning)){i.add(d.element,"is-positioning-post-drag");var e=d.needsPositioning,f=e?2:1,g=0,h=this;e?(d.on("layout",b),d.moveTo(d.placeRect.x,d.placeRect.y)):d&&d.copyPlaceRectPosition(),this.clearDragTimeout(),this.on("layoutComplete",b),this.layout()}else this.unstamp(a)},d.prototype.bindDraggabillyEvents=function(a){a.on("dragStart",this.handleDraggabilly.dragStart),a.on("dragMove",this.handleDraggabilly.dragMove),a.on("dragEnd",this.handleDraggabilly.dragEnd)},d.prototype.bindUIDraggableEvents=function(a){a.on("dragstart",this.handleUIDraggable.start).on("drag",this.handleUIDraggable.drag).on("dragstop",this.handleUIDraggable.stop)},d.prototype.destroy=function(){this.element.style.position="",this.element.style.height="",delete this.element.packeryGUID;for(var a=0,b=this.items.length;b>a;a++)this.items[a].destroy();this.unbindResize()},d.data=function(a){return(a=a.packeryGUID)&&s[a]},e(function(){for(var a=m.querySelectorAll(".js-packery"),b=0,c=a.length;c>b;b++){var e,f=a[b],g=f.getAttribute("data-packery-options");try{e=g&&JSON.parse(g)}catch(h){n&&n.error("Error parsing data-packery-options on "+f.nodeName.toLowerCase()+(f.id?"#"+f.id:"")+": "+h);continue}g=new d(f,e),o&&o.data(f,"packery",g)}}),o&&o.bridget&&o.bridget("packery",d),d.Rect=f,d.Packer=g,d.Item=h,a.Packery=d}(window),function(a,b){"use strict";function c(){if(!d.READY){d.event.determineEventTypes();for(var a in d.gestures)d.gestures.hasOwnProperty(a)&&d.detection.register(d.gestures[a]);d.event.onTouch(d.DOCUMENT,d.EVENT_MOVE,d.detection.detect),d.event.onTouch(d.DOCUMENT,d.EVENT_END,d.detection.detect),d.READY=!0}}var d=function(a,b){return new d.Instance(a,b||{})};d.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},d.HAS_POINTEREVENTS=a.navigator.pointerEnabled||a.navigator.msPointerEnabled,d.HAS_TOUCHEVENTS="ontouchstart"in a,d.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android|silk/i,d.NO_MOUSEEVENTS=d.HAS_TOUCHEVENTS&&a.navigator.userAgent.match(d.MOBILE_REGEX),d.EVENT_TYPES={},d.DIRECTION_DOWN="down",d.DIRECTION_LEFT="left",d.DIRECTION_UP="up",d.DIRECTION_RIGHT="right",d.POINTER_MOUSE="mouse",d.POINTER_TOUCH="touch",d.POINTER_PEN="pen",d.EVENT_START="start",d.EVENT_MOVE="move",d.EVENT_END="end",d.DOCUMENT=a.document,d.plugins={},d.READY=!1,d.Instance=function(a,b){var e=this;return c(),this.element=a,this.enabled=!0,this.options=d.utils.extend(d.utils.extend({},d.defaults),b||{}),this.options.stop_browser_behavior&&d.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior),d.event.onTouch(a,d.EVENT_START,function(a){e.enabled&&d.detection.startDetect(e,a)}),this},d.Instance.prototype={on:function(a,b){for(var c=a.split(" "),d=0;d<c.length;d++)this.element.addEventListener(c[d],b,!1);return this},off:function(a,b){for(var c=a.split(" "),d=0;d<c.length;d++)this.element.removeEventListener(c[d],b,!1);return this},trigger:function(a,b){b||(b={});var c=d.DOCUMENT.createEvent("Event");c.initEvent(a,!0,!0),c.gesture=b;var e=this.element;return d.utils.hasParent(b.target,e)&&(e=b.target),e.dispatchEvent(c),this},enable:function(a){return this.enabled=a,this}};var e=null,f=!1,g=!1;d.event={bindDom:function(a,b,c){for(var d=b.split(" "),e=0;e<d.length;e++)a.addEventListener(d[e],c,!1)},onTouch:function(a,b,c){var h=this;this.bindDom(a,d.EVENT_TYPES[b],function(i){var j=i.type.toLowerCase();if(!j.match(/mouse/)||!g){j.match(/touch/)||j.match(/pointerdown/)||j.match(/mouse/)&&1===i.which?f=!0:j.match(/mouse/)&&1!==i.which&&(f=!1),j.match(/touch|pointer/)&&(g=!0);var k=0;f&&(d.HAS_POINTEREVENTS&&b!=d.EVENT_END?k=d.PointerEvent.updatePointer(b,i):j.match(/touch/)?k=i.touches.length:g||(k=j.match(/up/)?0:1),k>0&&b==d.EVENT_END?b=d.EVENT_MOVE:k||(b=d.EVENT_END),(k||null===e)&&(e=i),c.call(d.detection,h.collectEventData(a,b,h.getTouchList(e,b),i)),d.HAS_POINTEREVENTS&&b==d.EVENT_END&&(k=d.PointerEvent.updatePointer(b,i))),k||(e=null,f=!1,g=!1,d.PointerEvent.reset())}})},determineEventTypes:function(){var a;a=d.HAS_POINTEREVENTS?d.PointerEvent.getEvents():d.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],d.EVENT_TYPES[d.EVENT_START]=a[0],d.EVENT_TYPES[d.EVENT_MOVE]=a[1],d.EVENT_TYPES[d.EVENT_END]=a[2]},getTouchList:function(a){return d.HAS_POINTEREVENTS?d.PointerEvent.getTouchList():a.touches?a.touches:(a.indentifier=1,[a])},collectEventData:function(a,b,c,e){var f=d.POINTER_TOUCH;return(e.type.match(/mouse/)||d.PointerEvent.matchType(d.POINTER_MOUSE,e))&&(f=d.POINTER_MOUSE),{center:d.utils.getCenter(c),timeStamp:(new Date).getTime(),target:e.target,touches:c,eventType:b,pointerType:f,srcEvent:e,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return d.detection.stopDetect()}}}},d.PointerEvent={pointers:{},getTouchList:function(){var a=this,b=[];return Object.keys(a.pointers).sort().forEach(function(c){b.push(a.pointers[c])}),b},updatePointer:function(a,b){return a==d.EVENT_END?this.pointers={}:(b.identifier=b.pointerId,this.pointers[b.pointerId]=b),Object.keys(this.pointers).length},matchType:function(a,b){if(!b.pointerType)return!1;var c={};return c[d.POINTER_MOUSE]=b.pointerType==b.MSPOINTER_TYPE_MOUSE||b.pointerType==d.POINTER_MOUSE,c[d.POINTER_TOUCH]=b.pointerType==b.MSPOINTER_TYPE_TOUCH||b.pointerType==d.POINTER_TOUCH,c[d.POINTER_PEN]=b.pointerType==b.MSPOINTER_TYPE_PEN||b.pointerType==d.POINTER_PEN,c[a]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},d.utils={extend:function(a,c,d){for(var e in c)a[e]!==b&&d||(a[e]=c[e]);return a},hasParent:function(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1},getCenter:function(a){for(var b=[],c=[],d=0,e=a.length;e>d;d++)b.push(a[d].pageX),c.push(a[d].pageY);return{pageX:(Math.min.apply(Math,b)+Math.max.apply(Math,b))/2,pageY:(Math.min.apply(Math,c)+Math.max.apply(Math,c))/2}},getVelocity:function(a,b,c){return{x:Math.abs(b/a)||0,y:Math.abs(c/a)||0}},getAngle:function(a,b){var c=b.pageY-a.pageY,d=b.pageX-a.pageX;return 180*Math.atan2(c,d)/Math.PI},getDirection:function(a,b){var c=Math.abs(a.pageX-b.pageX),e=Math.abs(a.pageY-b.pageY);return c>=e?a.pageX-b.pageX>0?d.DIRECTION_LEFT:d.DIRECTION_RIGHT:a.pageY-b.pageY>0?d.DIRECTION_UP:d.DIRECTION_DOWN},getDistance:function(a,b){var c=b.pageX-a.pageX,d=b.pageY-a.pageY;return Math.sqrt(c*c+d*d)},getScale:function(a,b){return a.length>=2&&b.length>=2?this.getDistance(b[0],b[1])/this.getDistance(a[0],a[1]):1},getRotation:function(a,b){return a.length>=2&&b.length>=2?this.getAngle(b[1],b[0])-this.getAngle(a[1],a[0]):0},isVertical:function(a){return a==d.DIRECTION_UP||a==d.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(a,b){var c,d=["webkit","khtml","moz","Moz","ms","o",""];if(b&&a.style){for(var e=0;e<d.length;e++)for(var f in b)b.hasOwnProperty(f)&&(c=f,d[e]&&(c=d[e]+c.substring(0,1).toUpperCase()+c.substring(1)),
a.style[c]=b[f]);"none"==b.userSelect&&(a.onselectstart=function(){return!1}),"none"==b.userDrag&&(a.ondragstart=function(){return!1})}}},d.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(a,b){this.current||(this.stopped=!1,this.current={inst:a,startEvent:d.utils.extend({},b),lastEvent:!1,name:""},this.detect(b))},detect:function(a){if(this.current&&!this.stopped){a=this.extendEventData(a);for(var b=this.current.inst.options,c=0,e=this.gestures.length;e>c;c++){var f=this.gestures[c];if(!this.stopped&&b[f.name]!==!1&&f.handler.call(f,a,this.current.inst)===!1){this.stopDetect();break}}return this.current&&(this.current.lastEvent=a),a.eventType==d.EVENT_END&&!a.touches.length-1&&this.stopDetect(),a}},stopDetect:function(){this.previous=d.utils.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(a){var b=this.current.startEvent;if(b&&(a.touches.length!=b.touches.length||a.touches===b.touches)){b.touches=[];for(var c=0,e=a.touches.length;e>c;c++)b.touches.push(d.utils.extend({},a.touches[c]))}var f=a.timeStamp-b.timeStamp,g=a.center.pageX-b.center.pageX,h=a.center.pageY-b.center.pageY,i=d.utils.getVelocity(f,g,h);return d.utils.extend(a,{deltaTime:f,deltaX:g,deltaY:h,velocityX:i.x,velocityY:i.y,distance:d.utils.getDistance(b.center,a.center),angle:d.utils.getAngle(b.center,a.center),interimAngle:this.current.lastEvent&&d.utils.getAngle(this.current.lastEvent.center,a.center),direction:d.utils.getDirection(b.center,a.center),interimDirection:this.current.lastEvent&&d.utils.getDirection(this.current.lastEvent.center,a.center),scale:d.utils.getScale(b.touches,a.touches),rotation:d.utils.getRotation(b.touches,a.touches),startEvent:b}),a},register:function(a){var c=a.defaults||{};return c[a.name]===b&&(c[a.name]=!0),d.utils.extend(d.defaults,c,!0),a.index=a.index||1e3,this.gestures.push(a),this.gestures.sort(function(a,b){return a.index<b.index?-1:a.index>b.index?1:0}),this.gestures}},d.gestures=d.gestures||{},d.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(a,b){switch(a.eventType){case d.EVENT_START:clearTimeout(this.timer),d.detection.current.name=this.name,this.timer=setTimeout(function(){"hold"==d.detection.current.name&&b.trigger("hold",a)},b.options.hold_timeout);break;case d.EVENT_MOVE:a.distance>b.options.hold_threshold&&clearTimeout(this.timer);break;case d.EVENT_END:clearTimeout(this.timer)}}},d.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},handler:function(a,b){if(a.eventType==d.EVENT_END&&"touchcancel"!=a.srcEvent.type){var c=d.detection.previous,e=!1;if(a.deltaTime>b.options.tap_max_touchtime||a.distance>b.options.tap_max_distance)return;c&&"tap"==c.name&&a.timeStamp-c.lastEvent.timeStamp<b.options.doubletap_interval&&a.distance<b.options.doubletap_distance&&(b.trigger("doubletap",a),e=!0),(!e||b.options.tap_always)&&(d.detection.current.name="tap",b.trigger(d.detection.current.name,a))}}},d.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_min_touches:1,swipe_max_touches:1,swipe_velocity:.7},handler:function(a,b){if(a.eventType==d.EVENT_END){if(b.options.swipe_max_touches>0&&a.touches.length<b.options.swipe_min_touches&&a.touches.length>b.options.swipe_max_touches)return;(a.velocityX>b.options.swipe_velocity||a.velocityY>b.options.swipe_velocity)&&(b.trigger(this.name,a),b.trigger(this.name+a.direction,a))}}},d.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,correct_for_drag_min_distance:!0,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(a,b){if(d.detection.current.name!=this.name&&this.triggered)return b.trigger(this.name+"end",a),void(this.triggered=!1);if(!(b.options.drag_max_touches>0&&a.touches.length>b.options.drag_max_touches))switch(a.eventType){case d.EVENT_START:this.triggered=!1;break;case d.EVENT_MOVE:if(a.distance<b.options.drag_min_distance&&d.detection.current.name!=this.name)return;if(d.detection.current.name!=this.name&&(d.detection.current.name=this.name,b.options.correct_for_drag_min_distance)){var c=Math.abs(b.options.drag_min_distance/a.distance);d.detection.current.startEvent.center.pageX+=a.deltaX*c,d.detection.current.startEvent.center.pageY+=a.deltaY*c,a=d.detection.extendEventData(a)}(d.detection.current.lastEvent.drag_locked_to_axis||b.options.drag_lock_to_axis&&b.options.drag_lock_min_distance<=a.distance)&&(a.drag_locked_to_axis=!0);var e=d.detection.current.lastEvent.direction;a.drag_locked_to_axis&&e!==a.direction&&(d.utils.isVertical(e)?a.direction=a.deltaY<0?d.DIRECTION_UP:d.DIRECTION_DOWN:a.direction=a.deltaX<0?d.DIRECTION_LEFT:d.DIRECTION_RIGHT),this.triggered||(b.trigger(this.name+"start",a),this.triggered=!0),b.trigger(this.name,a),b.trigger(this.name+a.direction,a),(b.options.drag_block_vertical&&d.utils.isVertical(a.direction)||b.options.drag_block_horizontal&&!d.utils.isVertical(a.direction))&&a.preventDefault();break;case d.EVENT_END:this.triggered&&b.trigger(this.name+"end",a),this.triggered=!1}}},d.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(a,b){if(d.detection.current.name!=this.name&&this.triggered)return b.trigger(this.name+"end",a),void(this.triggered=!1);if(!(a.touches.length<2))switch(b.options.transform_always_block&&a.preventDefault(),a.eventType){case d.EVENT_START:this.triggered=!1;break;case d.EVENT_MOVE:var c=Math.abs(1-a.scale),e=Math.abs(a.rotation);if(c<b.options.transform_min_scale&&e<b.options.transform_min_rotation)return;d.detection.current.name=this.name,this.triggered||(b.trigger(this.name+"start",a),this.triggered=!0),b.trigger(this.name,a),e>b.options.transform_min_rotation&&b.trigger("rotate",a),c>b.options.transform_min_scale&&(b.trigger("pinch",a),b.trigger("pinch"+(a.scale<1?"in":"out"),a));break;case d.EVENT_END:this.triggered&&b.trigger(this.name+"end",a),this.triggered=!1}}},d.gestures.Touch={name:"touch",index:-(1/0),defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(a,b){return b.options.prevent_mouseevents&&a.pointerType==d.POINTER_MOUSE?void a.stopDetect():(b.options.prevent_default&&a.preventDefault(),void(a.eventType==d.EVENT_START&&b.trigger(this.name,a)))}},d.gestures.Release={name:"release",index:1/0,handler:function(a,b){a.eventType==d.EVENT_END&&b.trigger(this.name,a)}};var h=function(a,c){return c===b?a:(a.event.bindDom=function(a,d,e){c(a).on(d,function(a){var c=a.originalEvent||a;c.pageX===b&&(c.pageX=a.pageX,c.pageY=a.pageY),c.target||(c.target=a.target),c.which===b&&(c.which=c.button),c.preventDefault||(c.preventDefault=a.preventDefault),c.stopPropagation||(c.stopPropagation=a.stopPropagation),e.call(this,c)})},a.Instance.prototype.on=function(a,b){return c(this.element).on(a,b)},a.Instance.prototype.off=function(a,b){return c(this.element).off(a,b)},a.Instance.prototype.trigger=function(a,b){var d=c(this.element);return d.has(b.target).length&&(d=c(b.target)),d.trigger({type:a,gesture:b})},void(c.fn.hammer=function(b){return this.each(function(){var d=c(this),e=d.data("hammer");e?e&&b&&a.utils.extend(e.options,b):d.data("hammer",new a(this,b||{}))})}))};"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(["jquery"],function(a){h(d,a)}):h(d,a.jQuery||a.Zepto)}(this),function(a,b,c,d,e,f){function g(a){var b,c=a.length,e=this,f=0,g=e.i=e.j=0,h=e.S=[];for(c||(a=[c++]);d>f;)h[f]=f++;for(f=0;d>f;f++)h[f]=h[g=o&g+a[f%c]+(b=h[f])],h[g]=b;(e.g=function(a){for(var b,c=0,f=e.i,g=e.j,h=e.S;a--;)b=h[f=o&f+1],c=c*d+h[o&(h[f]=h[g=o&g+b])+(h[g]=b)];return e.i=f,e.j=g,c})(d)}function h(a,b){var c,d=[],e=(typeof a)[0];if(b&&"o"==e)for(c in a)try{d.push(h(a[c],b-1))}catch(f){}return d.length?d:"s"==e?a:a+"\x00"}function i(a,b){for(var c,d=a+"",e=0;e<d.length;)b[o&e]=o&(c^=19*b[o&e])+d.charCodeAt(e++);return k(b)}function j(c){try{return a.crypto.getRandomValues(c=new Uint8Array(d)),k(c)}catch(e){return[+new Date,a,a.navigator.plugins,a.screen,k(b)]}}function k(a){return String.fromCharCode.apply(0,a)}var l=c.pow(d,e),m=c.pow(2,f),n=2*m,o=d-1;c.seedrandom=function(a,f){var o=[],p=i(h(f?[a,k(b)]:0 in arguments?a:j(),3),o),q=new g(o);return i(k(q.S),b),c.random=function(){for(var a=q.g(e),b=l,c=0;m>a;)a=(a+c)*d,b*=d,c=q.g(1);for(;a>=n;)a/=2,b/=2,c>>>=1;return(a+c)/b},p},i(c.random(),b)}(this,[],Math,256,6,52),function(a){function b(a){return/(^https?)|(^data)|(^blob)/.test(a)}var c={},d={exports:c};"function"==typeof Object.create?d.exports.inherits=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:d.exports.inherits=function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a},d.exports.getVerticalColumnImageSize=function(a,b,c){var d=b/c;return{width:~~a,height:~~(a/d)}},d.exports.pyramid=function(){var a=150,b=$(window).innerWidth(),c=$(window).innerHeight();return{isOverThresholdChange:function(){var d=$(window).innerWidth(),e=$(window).innerHeight();return Math.abs(b-d)>a||Math.abs(c-e)>a?(b=d,c=e,!0):!1}}}(),d.exports.quote=function(a){var b,c,d=a.length,e='"';for(c=0;d>c;c+=1)if(b=a.charAt(c),b>=" ")("\\"===b||'"'===b)&&(e+="\\"),e+=b;else switch(b){case"\b":e+="\\b";break;case"\f":e+="\\f";break;case"\n":e+="\\n";break;case"\r":e+="\\r";break;case"	":e+="\\t";break;default:b=b.charCodeAt(),e+="\\u00"+Math.floor(b/16).toString(16)+(b%16).toString(16)}return e+'"'},d.exports.decamelize=function(a){var b=a.replace(/(.)([A-Z])/g,"$1 $2");return b.charAt(0).toUpperCase()+b.slice(1)},d.exports.fontStacks={Arial:'Arial, "Helvetica Neue", Helvetica, sans-serif',"Arial Black":'"Arial Black", "Arial Bold", Gadget, sans-serif',"Arial Narrow":'"Arial Narrow", Arial, sans-serif',"Arial Rounded MT Bold":'"Arial Rounded MT Bold", "Helvetica Rounded", Arial, sans-serif',"Avant Garde":'"Avant Garde", Avantgarde, "Century Gothic", CenturyGothic, "AppleGothic", sans-serif',Calibri:'Calibri, Candara, Segoe, "Segoe UI", Optima, Arial, sans-serif',Candara:'Candara, Calibri, Segoe, "Segoe UI", Optima, Arial, sans-serif',"Century Gothic":'"Century Gothic", CenturyGothic, AppleGothic, sans-serif',"Franklin Gothic Medium":'"Franklin Gothic Medium", "Franklin Gothic", "ITC Franklin Gothic", Arial, sans-serif',Futura:'Futura, "Trebuchet MS", Arial, sans-serif',Geneva:"Geneva, Tahoma, Verdana, sans-serif","Gill Sans":'"Gill Sans", "Gill Sans MT", Calibri, sans-serif',Helvetica:'"Helvetica Neue", Helvetica, Arial, sans-serif',Impact:'Impact, Haettenschweiler, "Franklin Gothic Bold", Charcoal, "Helvetica Inserat", "Bitstream Vera Sans Bold", "Arial Black", sans serif',"Lucida Grande":'"Lucida Grande", "Lucida Sans Unicode", "Lucida Sans", Geneva, Verdana, sans-serif',Optima:'Optima, Segoe, "Segoe UI", Candara, Calibri, Arial, sans-serif',"Segoe UI":'"Segoe UI", Frutiger, "Frutiger Linotype", "Dejavu Sans", "Helvetica Neue", Arial, sans-serif',Tahoma:"Tahoma, Verdana, Segoe, sans-serif","Trebuchet MS":'"Trebuchet MS", "Lucida Grande", "Lucida Sans Unicode", "Lucida Sans", Tahoma, sans-serif',Verdana:"Verdana, Geneva, sans-serif",Baskerville:'Baskerville, "Baskerville Old Face", "Hoefler Text", Garamond, "Times New Roman", serif',"Big Caslon":'"Big Caslon", "Book Antiqua", "Palatino Linotype", Georgia, serif',"Bodoni MT":'"Bodoni MT", Didot, "Didot LT STD", "Hoefler Text", Garamond, "Times New Roman", serif',"Book Antiqua":'"Book Antiqua", Palatino, "Palatino Linotype", "Palatino LT STD", Georgia, serif',"Calisto MT":'"Calisto MT", "Bookman Old Style", Bookman, "Goudy Old Style", Garamond, "Hoefler Text", "Bitstream Charter", Georgia, serif',Cambria:"Cambria, Georgia, serif",Didot:'Didot, "Didot LT STD", "Hoefler Text", Garamond, "Times New Roman", serif',Garamond:'Garamond, Baskerville, "Baskerville Old Face", "Hoefler Text", "Times New Roman", serif',Georgia:'Georgia, Times, "Times New Roman", serif',"Goudy Old Style":'"Goudy Old Style", Garamond, "Big Caslon", "Times New Roman", serif',"Hoefler Text":'"Hoefler Text", "Baskerville old face", Garamond, "Times New Roman", serif',"Lucida Bright":'"Lucida Bright", Georgia, serif',Palatino:'Palatino, "Palatino Linotype", "Palatino LT STD", "Book Antiqua", Georgia, serif',Perpetua:'Perpetua, Baskerville, "Big Caslon", "Palatino Linotype", Palatino, "URW Palladio L", "Nimbus Roman No9 L", serif',Rockwell:'Rockwell, "Courier Bold", Courier, Georgia, Times, "Times New Roman", serif',"Rockwell Extra Bold":'"Rockwell Extra Bold", "Rockwell Bold", monospace',"Times New Roman":'TimesNewRoman, "Times New Roman", Times, Baskerville, Georgia, serif',"Andale Mono":'"Andale Mono", AndaleMono, monospace',Consolas:"Consolas, monaco, monospace","Courier New":'"Courier New", Courier, "Lucida Sans Typewriter", "Lucida Typewriter", monospace',"Lucida Console":'"Lucida Console", "Lucida Sans Typewriter", Monaco, "Bitstream Vera Sans Mono", monospace',"Lucida Sans Typewriter":'"Lucida Sans Typewriter", "Lucida Console", Monaco, "Bitstream Vera Sans Mono", monospace',Monaco:'Monaco, Consolas, "Lucida Console", monospace',Copperplate:'Copperplate, "Copperplate Gothic Light", fantasy',Papyrus:"Papyrus, fantasy","Brush Script MT":'"Brush Script MT", cursive'},d.exports.fontStacks["Helvetica Neue"]=d.exports.fontStacks.Helvetica,d.exports.fontStacks["Lucida Sans Console"]=d.exports.fontStacks["Lucida Sans Typewriter"],d.exports.fontFamilyDegradation=function(a){if(a){var b=c.decamelize(a);return c.fontStacks[b]?c.fontStacks[b]:c.fontStacks[a]?c.fontStacks[a]:/\s/.test(b)?[c.quote(b),a].join(", "):[b,a].join(", ")}},d.exports.hexToRgba=function(a,b){if(a){var c,d="#"==a.charAt(0)?a.slice(1):a,e=parseInt(d.substring(0,2),16),f=parseInt(d.substring(2,4),16),g=parseInt(d.substring(4,6),16),h=isNaN(b)?1:parseFloat(b);return c=1==b||isNaN(b)?"rgb("+e+","+f+","+g+")":"rgba("+e+","+f+","+g+","+h+")"}},d.exports.capabilities={mask:function(){var a=document.getElementsByTagName("html")[0],b=a.className?a.className.split(" "):[];return void 0!==document.body.style["-webkit-mask-repeat"]?(b.push("cssmasks"),a.className=b.join(" "),!0):(b.push("no-cssmasks"),a.className=b.join(" "),!1)}},d.exports.difference=function(a,b){var c,d={};for(var e in b)_.isEqual(a[e],c=b[e])||(d[e]=c);return d},d.exports.propertiesChanged=function(a,b,d){var a=a||{},b=b||{},d=d||[];return _.keys(_.pick(c.difference(a,b),d)).length?!0:!1},d.exports.getRandomInt=function(a,b){return Math.floor(Math.random()*(b-a+1))+a},d.exports.getResizedImageUrlSrz=function(a,c,d,e){if(e=e||{},e.quality=e.quality||75,e.resizaFilter=e.resizaFilter||22,e.usm_r=e.usm_r||.5,e.usm_a=e.usm_a||1.2,e.usm_t=e.usm_t||0,b(a))return a;var f=[],g=/[.]([^.]+)$/.exec(a),h=g&&/[.]([^.]+)$/.exec(a)[1]||"";return a="https://static.wixstatic.com/media/"+a,f.push(a),f.push("srz"),f.push("p"),f.push(c),f.push(d),f.push(e.quality),f.push(e.resizaFilter),f.push(e.usm_r),f.push(e.usm_a),f.push(e.usm_t),f.push(h),f.push("srz"),f.join("_")},d.exports.getResizedImageFacedCroppedUrl=function(a,c,d){return b(a)?a:"//static.wixstatic.com/media/"+a+"/v1/fill/w_"+c+",h_"+d+",al_fs,q_75,usm_0.50_1.20_0.00/"+a},d.exports.getResizedImageUrl=function(a,c,d,e){if(e=e||{},!e.quality){var f=196e4,g=36e4,h=1,i=c*h*(d*h);i>f?e.quality=90:i>g?e.quality=85:e.quality=80}if(e=e||{},e.resizaFilter=e.resizaFilter||22,e.usm_r=e.usm_r||.66,e.usm_a=e.usm_a||1,e.usm_t=e.usm_t||.01,b(a))return a;var j="https://static.wixstatic.com/media/"+a+"/v1/fill/";return j+="w_"+c,j+=",h_"+d,j+=",al_c",j+=",q_"+e.quality,j+=",usm_"+e.usm_r+"_"+e.usm_a.toFixed(2)+"_"+e.usm_t,j+="/"+a},d.exports.loadGoogleFontIfNeeded=function(a){this.loadedFonts||(this.loadedFonts={}),this.loadedFonts[a]||(this.loadedFonts[a]=!0,Wix.Styles.getEditorFonts(function(b){var c=!1;b.forEach(function(b){c=_.find(b.fonts,{fontFamily:a,provider:"google"})}),c&&WebFont.load({google:{families:[c.cdnName]}})}))},d.exports.insertCssRule=function(a,b){if(!a.tmpStyleSheet){var c=$("<style></style>").appendTo("head").attr("id","dynamic-style").get(0);if(a.tmpStyleSheet=_.find(document.styleSheets,function(a){return a.ownerNode===c}),!a.tmpStyleSheet)for(var d=document.styleSheets.length-1;d>=0;d--){var e=document.styleSheets[d];if(null!=e.cssRules){a.tmpStyleSheet=e;break}}}var b,f=a.tmpStyleSheet,g=0;return f.insertRule?(g=f.cssRules.length,f.insertRule(b,g),b=f.cssRules[g]):f.addRule&&(g=f.rules.length,f.addRule(b,g),b=f.rules[g]),b},a.utils=c}(window),SimpleAppProto.prototype.handleSettingsEvent=function(a){var b=this;a.cmd?_.isFunction(b[a.cmd])&&b[a.cmd].call(b,a):b.updateSettings(a)},SimpleAppProto.prototype.handleEditModeEvent=function(a){var b=this;b.editMode=a.editMode;var c=document.getElementById("viewport");c&&c.setAttribute("data-mode",b.editMode),_.isFunction(b.changeEditMode)&&b.changeEditMode(a)},SimpleAppProto.prototype.openLink=function(a,b,c,d,e,f){if(a){var g=this;switch(c){case"PAGE":Wix.navigateToPage(-1!==a.indexOf("#")?a.split("/").pop():f);break;case"ANCHOR":var h=-1!==a.indexOf("#")?a.split("/").pop():f;Wix.pushState(JSON.stringify({cmd:"navigateToAnchor",args:[h,e]}));break;case"WEBSITE":if(b?"_self"==b&&(b="_top"):b="_blank","preview"==this.editMode&&"_top"==b){var i="Your link will not open in the same window while in Preview mode, but it will work on your site!",j=$("<div></div>").append(i).css({letterSpacing:"1px",boxShadow:"rgba(0, 0, 0, 0.6) 0px 1px 4px 0px",borderRadius:"5px",maxWidth:"300px",color:"rgb(101, 101, 101)",background:"rgb(255, 254, 223)",position:"absolute",padding:"5px",fontSize:"12px",fontFamily:"Helvetica, Arial, serif",lineHeight:"16px"}),k={left:d.pageX,top:d.pageY};if(d.pageX&&d.pageY){var l=$("body").width();k.left-=150,k.left<1&&(k.left=1),k.top<1&&(k.top=1),k.left+300>l&&(k=l-300)}else k=d.currentTarget?$(d.currentTarget).offset():{left:10,top:10};g.viewportOverlay().show(j,5e3,k)}else window.open(a,b);break;case"EMAIL":window.open(a);break;case"DOCUMENT":window.open(a,"_blank")}}},SimpleAppOverlay.prototype.show=function(a,b,c){var d=this;d.overlay.show(),d.overlay.offset(d.el.offset());var e=$(d.el).css("z-index");return e&&"auto"!=e||(e=1,$(d.el).css("z-index",e)),e++,d.overlay.css({width:$("body").width(),height:$("body").height(),backgroundColor:"rgba(30,30,30, 0.1)",color:"rgb(50,50,50)",zIndex:e}),a&&d.message(a,c),b&&(d.displayTimer&&clearTimeout(d.displayTimer),d.displayTimer=setTimeout(function(){d.hide()},b)),d},SimpleAppOverlay.prototype.hide=function(){var a=this;return a.displayTimer&&clearTimeout(a.displayTimer),a.overlay.hide(),a.message(""),a},SimpleAppOverlay.prototype.message=function(a,b){var b=b||{left:10,top:10};if("string"==typeof a)this.overlay.html(a);else{var c=$(a),d=c.clone(!0);c.is("*")&&(this.overlay.html("").append(d),d.offset(b))}return this},SimpleAppProto.prototype.itemsChanged=function(a,b){var c=this,d=b||["uri"],e=!1;if(c.items.length!=a.length)e=!0;else for(var f=0;f<c.items.length;f++){if(utils.propertiesChanged(c.items[f],a[f],d)){e=!0;break}_.extend(c.items[f],a[f])}return e},SimpleAppProto.prototype.propsChanged=function(a,b){var c=this,b=b||[],d=utils.difference(c.props,a),e=_.keys(d).length?!0:!1;return e&&b.length&&(e=utils.propertiesChanged(c.props,a,b)),e},SimpleAppProto.prototype.viewportOverlay=function(){return this._viewportOverlay=this._viewportOverlay||new SimpleAppOverlay(this.el),this._viewportOverlay},SimpleAppProto.prototype.override=function(a,b){var c={};"object"==typeof a?c=a:c[a]=b,this.updateSettings({items:_.clone(this.items),props:_.extend(_.clone(this.props),c)})};var CollageController=function(a,b){var c=this;c.itemClass="item",c.itemSelector="."+c.itemClass,c.items=[],c.props={},utils.capabilities.mask(),this.resize=_.debounce(_.bind(this._resize,this),200),CollageController.super_.apply(this,arguments),$(this.el).on("click","."+this.itemClass,function(a){var b=$(a.currentTarget).index();c.itemClick(c.items[b],b,a)}),c.viewportOriginalHeight=c.getViewportSize().height};utils.inherits(CollageController,SimpleAppProto),CollageController.prototype.changeEditMode=function(){var a=this;"editor"!==a.editMode&&$(".details").fadeOut().addClass("hide")},CollageController.prototype.itemClick=function(a,b,c){var d=this;switch(d.props.galleryImageOnClickAction){case"goToLink":d.openLink(a.href,a.target,a.linkType,c,a["data-anchor"],d.mainPageId);break;case"zoomMode":Wix.pushState(JSON.stringify({cmd:"zoom",args:[b]}));break;case"disabled":}},CollageController.prototype.createDom=function(){var a=this,b=a.getViewportSize(),c=a.props.numOfCells;a.el.html(""),a.displayNode=$('<div id="packery"></div>').appendTo(this.el);var d={timer:0,direction:"+",start:function(b){b&&b.target&&($(this).is(".prev")||$(this).is(".alternativePrev")?d.direction="-":d.direction="+"),d.stop(),a.el.stop().animate({scrollLeft:d.direction+"="+Math.floor(.2*a.el.width())+"px"},1e3,"linear"),d.timer=setTimeout(d.start,900)},stop:function(){a.el.stop(),clearTimeout(d.timer)}};$('<div><div class="inner"></div></div>').appendTo(a.el).addClass("prev").hover(d.start,d.stop).hide().click(function(){d.stop(),a.el.animate({scrollLeft:"-="+Math.floor(.5*a.el.width())+"px"},500,"easeOutSine",function(){d.start()})}).hide(),$('<div><div class="inner"></div></div>').appendTo(a.el).addClass("next").hover(d.start,d.stop).hide().click(function(){d.stop(),a.el.animate({scrollLeft:"+="+Math.floor(.5*a.el.width())+"px"},500,"easeOutSine",function(){d.start()})}).hide(),$('<div class="alternativePrev"></div>').appendTo(a.el).hover(d.start,d.stop),$('<div class="alternativeNext"></div>').appendTo(a.el).hover(d.start,d.stop);_.each(this.items,function(b,c){itemNode=$("<div></div>").appendTo(a.displayNode),itemNode.data("item",b).addClass(a.itemClass),$("<div></div>").appendTo(itemNode).addClass("filler");var d=$("<div></div>").appendTo(itemNode).addClass("details");$("<div></div>").appendTo(itemNode).addClass("overlay"),$("<h3></h3>").appendTo(d).addClass("title").html(b.title),$("<div></div>").appendTo(d).addClass("desc").html(b.description)});var e={itemSelector:a.itemSelector,containerStyle:{position:"relative",height:b.height+"px"}};if("horizontal"==a.props.orientation?(a.cellDimension=Math.floor(b.height/c),e.layoutMode="horizontal"):(a.cellDimension=Math.floor(b.width/c),e.layoutMode="vertical"),a.isMobile){var f=0;$(".details").addClass("hide"),a.displayNode.hammer({stop_browser_behavior:{userSelect:"none",touchAction:"pan-y",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}}).on("dragstart",function(b){return"horizontal"==a.props.orientation?(f=a.el[0].scrollLeft,b.gesture.preventDefault(),b.preventDefault(),!1):void 0}).on("drag",function(b){var c=b.gesture,d=1.7;return"horizontal"==a.props.orientation?(a.el[0].scrollLeft=f-Math.floor(c.deltaX*d),b.gesture.preventDefault(),!1):void 0})}a.pckry=new Packery(a.displayNode[0],e)},CollageController.prototype.updateLayout=function(){var a=this,b=a.getViewportSize(),c=a.distributeCellSizes(),d=$("#packery"),e="disabled"===a.props.galleryImageOnClickAction,f="goToLink"===a.props.galleryImageOnClickAction,g="zoomMode"===a.props.galleryImageOnClickAction;if("horizontal"==a.props.orientation&&a.prevOrientation!=a.props.orientation&&(b.height=a.viewportOriginalHeight,a.el.height(b.height),Wix.setHeight(b.height)),"site"==a.editMode&&$(".details").fadeOut().addClass("hide"),$(".next,.prev").css("background-color","white").find(".inner").css("background-color","black"),$(a.itemSelector,a.el).each(function(b){var d=$(this),e=d.data("item"),h=c[b],i=a.getSizeInCells(e,h),j="horizontal"==a.props.orientation?a.cellDimension*i.height:Math.floor(3*a.cellDimension/4)*i.height,k="horizontal"==a.props.orientation?Math.floor(4*a.cellDimension/3)*i.width:a.cellDimension*i.width,l=utils.getResizedImageUrl(e.uri,k,j),m=(e.width/e.height,Math.floor((j-$(".title",d).height()-$(".desc",d).height())/2)),n=a.getTextSizeInCell(k);switch(n.titleSize?$(".title",d).html(e.title).css("font-size",n.titleSize+"px"):$(".title",d).html(""),n.descSize?$(".desc",d).html(e.description).css("font-size",n.descSize+"px"):$(".desc",d).html(""),a.props.textMode){case"titleAndDescription":m=170>k||!e.description?Math.floor((j-35)/2):Math.floor((j-60)/2);break;case"titleOnly":m=Math.floor((j-35)/2);break;case"noText":}n.titleSize&&!n.descSize&&(m=Math.floor((j-35)/2)),d.height(j).width(k);var o=Math.floor(a.props.margin/2)+"px",p=Math.floor(a.props.margin/2)+26+"px";g||f&&!_.isEmpty(e.href);$(".filler",d).css({backgroundImage:"url("+l+")",backgroundSize:"cover",top:o,left:o,right:o,bottom:o}),$(".details",d).css({left:p,right:p,top:m}),$(".overlay",d).css({top:o,left:o,right:o,bottom:o,display:"block"});var q;d.hover(function(){switch(clearTimeout(q),a.props.textMode){case"titleAndDescription":170>k?($(".title,.details",d).removeClass("hide").fadeIn(1e3),$(".desc",d).addClass("hide")):$(".title,.desc,.details",d).removeClass("hide").fadeIn(1e3);break;case"titleOnly":$(".title,.details",d).removeClass("hide").fadeIn(1e3),$(".desc",d).addClass("hide");break;case"noText":$(".title,.desc,.details",d).addClass("hide")}},function(){$(".details",d).stop().fadeOut(1e3),q=setTimeout(function(){$(".details",d).addClass("hide")},1e3)})}),"editor"==$("#viewport").attr("data-mode"))switch(a.props.textMode){case"titleAndDescription":$(".title,.desc,.details").removeClass("hide");break;case"titleOnly":$(".title,.details").removeClass("hide"),$(".desc").addClass("hide");break;case"noText":$(".title,.desc,.details").addClass("hide")}if($("."+this.itemClass,this.el).each(function(){var a=$(this).data("item");if(a){var b=$(".overlay",this);b.show(),e||f&&_.isEmpty(a.href)?$(this).css("cursor",""):$(this).css("cursor","pointer")}}),this.props.backgroundMouseoverColor){var h="#viewport "+a.itemSelector+":hover .overlay",i=this.props.backgroundMouseoverColor;"undefined"!=typeof this.props.alphaBackgroundMouseoverColor&&$.support.opacity&&(i=utils.hexToRgba(this.props.backgroundMouseoverColor,this.props.alphaBackgroundMouseoverColor));var j=utils.insertCssRule(a,h+" { background-color: "+i+"!important; }");j.style.backgroundColor=i,$.support.opacity||(j.style["-ms-filter"]="progid:DXImageTransform.Microsoft.Alpha(Opacity=50)",j.style.filter="alpha(opacity=50)",j.style.opacity=.5)}a.pckry.layout(),a.props.showNavButtons===!0&&"horizontal"==a.props.orientation&&d.width()>a.el.width()&&!a.isMobile?(a.el.find(".prev, .next").show(),a.el.find(".alternativePrev, .alternativeNext").hide()):a.props.showNavButtons===!1&&"horizontal"==a.props.orientation&&d.width()>a.el.width()&&!a.isMobile?(a.el.find(".prev,.next").hide(),a.el.find(".alternativePrev, .alternativeNext").show()):a.el.find(".prev,.next,.alternativePrev,.alternativeNext").hide(),"vertical"==a.props.orientation&&Wix.setHeight(a.displayNode.height())},CollageController.prototype.distributeCellSizes=function(){var a=this,b=[],c=a.items.length;Math.seedrandom("layout-seed-"+a.props.layoutSeed);for(var d=0;c>d;d++){var e=a.props.minImageSize,f=a.props.maxImageSize,g=Math.floor((f+e)/2),h=Math.random();if(.8>h)var i=Math.floor(Math.random()*(g-e+1))+e;else var i=Math.ceil(Math.random()*(f-g))+g;b.push(i)}return b},CollageController.prototype.updateSettings=function(a){var b=this,c=!1;b.mainPageId=a.mainPageId,b.itemsChanged(a.items,["uri"])?c=!0:b.propsChanged(a.props,["minImageSize","maxImageSize","avergeImageSize","numOfCells","orientation","layoutSeed"])&&(c=!0),b.propsChanged(a.props,["textMode"])&&$(b.itemSelector,b.el).find(".details").removeClass("hide"),b.prevOrientation=b.props.orientation,c?(b.destroy(),b.items=a.items||[],b.props=a.props||{},b.createDom()):_.extend(b.props,a.props),$(b.el).css("text-align",b.props.alignText),b.isMobile&&(b.props.textMode="noText"),utils.loadGoogleFontIfNeeded(this.props.font),$(b.itemSelector,b.el).find(".title").css({fontFamily:utils.fontFamilyDegradation(b.props.font),color:utils.hexToRgba(b.props.textColor,b.props.alphaTextColor)}),$(b.itemSelector,b.el).find(".desc").css({fontFamily:utils.fontFamilyDegradation(b.props.font),color:utils.hexToRgba(b.props.descriptionColor,b.props.alphaDescriptionColor)}),b.updateLayout()},CollageController.prototype.destroy=function(){this.el.html("")},CollageController.prototype._resize=function(){var a=this,b=a.getViewportSize(),c=a.props.numOfCells;"horizontal"==a.props.orientation?(a.viewportOriginalHeight=b.height,a.el.height(a.viewportOriginalHeight)):a.el.height("auto");var d={itemSelector:a.itemSelector,containerStyle:{position:"relative",height:b.height+"px",width:b.width+"px"}};"horizontal"==a.props.orientation?(a.cellDimension=Math.floor(b.height/c),d.layoutMode="horizontal"):(a.cellDimension=Math.floor(b.width/c),d.layoutMode="vertical"),Wix.setHeight(a.el.height()),a.pckry.destroy(),a.pckry=new Packery(a.displayNode[0],d),a.updateLayout()},CollageController.prototype.getViewportSize=function(){var a=document.documentElement;return{width:a.clientWidth,height:a.clientHeight}},CollageController.prototype.getTextSizeInCell=function(a){var b=null,c=null;return 170>a||(240>a?b=21:420>a?(b=24,c=15):580>a?(b=30,c=15):650>a?(b=38,c=21):(b=48,c=24)),{titleSize:b,descSize:c}},CollageController.prototype.getSizeInCells=function(a,b){var c=this,d=a.width/a.height,e={width:1,height:1};return"horizontal"==c.props.orientation?(e.width=b,e.height=2>=d?b:Math.min(b,Math.ceil(b/d*4/3))):(e.height=b,e.width=2>=d?Math.min(b,Math.max(1,Math.floor(b*d*3/4))):b),e};