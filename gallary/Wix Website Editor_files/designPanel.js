define("designPanel/core/changeStyleHelper",["lodash","core"],function(a,b){"use strict";function c(c,d){var e=c.style||c.styleId;return a.isString(e)&&(e=b.styleManager.getStyleById(d.theme,d.components,e)),e}function d(c,d){var e=c.style||c.styleId;return a.isObject(e)&&(e=b.styleManager.getStyleIdByDef(d.theme,d.components,e,c.componentType)),e}function e(a,d,e,f){var g=c(a,f),h=b.styleManager.getStyleById(f.theme,f.components,d);return g&&h?b.styleManager.isEqual(g,h):!1}return{isCompDefStyleEqualToStyle:e,getCompDefStyle:c,getCompDefStyleId:d}}),define("designPanel/core/designPanelMixin",["react","jquery","lodash","core","designPanel/core/changeStyleHelper","experiment!animateChangeStyleButton"],function(a,b,c,d,e,f){"use strict";function g(a){return a.split(".").pop()}return{propTypes:{compRef:a.PropTypes.object.isRequired,compType:a.PropTypes.string.isRequired},childContextTypes:{panelMeasures:a.PropTypes.object},getChildContext:function(){var a={top:null,left:null},d={top:this.props.style&&this.props.style.top,left:this.props.style&&this.props.style.left};if(c.isEqual(this.panelPositionFromprops,d)){if(this.isMounted()){var e=b(this.getDOMNode());a=e.position()}}else this.panelPositionFromprops=d,a=d;return{panelMeasures:{designPanel:a}}},getInitialState:function(){return this.getResetState(this.props)},getResetState:function(a){var b={advancedStyling:!1,currentAdvancedStyleId:"",isStyleChanged:!1};return this.getStateFromProps&&c.assign(b,this.getStateFromProps(a)),b},componentWillMount:function(){f&&(this.customizeDesignClicked=!1),this.props.onlyAdvancedStyling&&this.openCustomizeDesign()},componentWillReceiveProps:function(a){c.isEqual(a.compRef,this.props.compRef)||(f&&(this.customizeDesignClicked=!1),this.dontResetState&&this.dontResetState(a)||this.setState(this.getResetState(a)))},getPropsForDesignPanel:function(){var a=c.assign({},this.props,{changePermanentState:this.changePermanentState,changeTempState:this.changeTempState,maintainOriginalState:this.maintainOriginalState,isSelectedItem:this.isSelectedItem,hideComponentSections:this.state.advancedStyling,shouldHideContentOverflow:this.state.advancedStyling});return this.state.advancedStyling&&!this.props.onlyAdvancedStyling&&(a.onBackClick=this.customizeDesignCallBack),a},openCustomizeDesign:function(){var b,a={advancedStyling:!0};this.state.currentAdvancedStyleId?b=this.state.currentAdvancedStyleId:(b=this.createCurrentAdvancedStyleId(),c.assign(a,{currentAdvancedStyleId:b})),a.currentStyleId=b,this.setComponentStyle(b),this.setState(a),f&&(this.customizeDesignClicked=!0),this.reportToBI()},reportToBI:function(){var a=this.getEditorAPI();a.bi.event(d.bi.events.designPanel.DESIGN_PANEL_CUSTOMIZE_BUTTON_CLICK,{was_preset_clicked_current_session:this.state.isStyleChanged,component_type:g(this.props.compType),component_id:this.props.compRef.id,chosen_style_id:this.state.currentStyleId})},customizeDesignCallBack:function(){this.setState({advancedStyling:!1});var a=this.getEditorAPI();a.bi.event(d.bi.events.ADVANCED_STYLE_PANEL.BACK_BUTTON_CLICK,{component_type:g(this.props.compType)})},getAdvancedStylingProps:function(){return{selectedSkin:this.props.selectedSkin,selectedComponent:[this.props.compRef],styleId:this.state.currentAdvancedStyleId,compType:this.props.compType}},createCurrentAdvancedStyleId:function(){var a=this.getEditorAPI(),b=e.getCompDefStyle({styleId:this.state.currentStyleId},a),c=d.styleManager.createNewStyleByDef(a.theme,b,this.props.compType);return c},setComponentStyle:function(a){this.props.setStyleFunc?this.props.setStyleFunc(a):this.setComponentStyleId(a)},setComponentStyleId:function(a){var b=this.getEditorAPI();b.components.style.getId(this.props.compRef)!==a&&b.components.style.setId(this.props.compRef,a)}}}),define("designPanel/core/designPanel.rt",["react/addons","lodash","compPanels","addPanelInfra"],function(a,b,c,d){"use strict";function e(c,e,f){return a.createElement(d.baseGenerator,b.assign({},{ref:this.getSectionRef(e,f),key:this.getSectionRef(e,f)},this.getSectionProps(e,f,c)))}function f(){var c=this.getSections();return a.createElement.apply(this,["div",{onMouseLeave:this.onPanelMouseLeave,className:b.keys(b.pick(this.getSectionsClasses(),b.identity)).join(" "),key:"designPanelSections"},b.map(c,e.bind(this,c))])}return function(){return a.createElement(c.compPanelFrame,b.assign({},{id:"designPanel",title:this.getTitle(),shouldHideContentOverflow:this.props.shouldHideContentOverflow,helpId:this.getHelpId()},this.getFrameProps()),this.props.hideComponentSections?null:f.apply(this,[]),a.createElement("div",{},this.props.children))}}),define("designPanel/core/designPanel",["react","lodash","util","addPanelData","addPanelInfra","core","compPanels","designPanel/core/changeStyleHelper","designPanel/core/designPanel.rt"],function(a,b,c,d,e,f,g,h,i){"use strict";function j(a){if(!b.isUndefined(a.title)){if(!b.isUndefined(a.getTitle))return new Error("Cannot provide both title and getTitle");if(!b.isString(a.title))return new Error("Warning: Invalid prop 'title', expected a string.")}}return a.createClass({displayName:"designPanel",mixins:[f.mixins.editorAPIMixin,g.compPanelFrameMixin,e.addPanelHoverMixin],render:i,propTypes:{compRef:a.PropTypes.object.isRequired,compType:a.PropTypes.string.isRequired,changePermanentState:a.PropTypes.func.isRequired,changeTempState:a.PropTypes.func.isRequired,maintainOriginalState:a.PropTypes.func.isRequired,hideComponentSections:a.PropTypes.bool,getTitle:a.PropTypes.func,title:j,getSections:a.PropTypes.func,getAdditionalElementProps:a.PropTypes.func},getInitialState:function(){return{selectedItemKey:null}},componentWillReceiveProps:function(a){a.hideComponentSections!==this.props.hideComponentSections&&this.setState({selectedItemKey:null})},getTitle:function(){return this.props.getTitle?this.props.getTitle():this.props.title?this.props.title:d.getDesignPanelTitleByComp(this.props.compType,this.props.compRef,this.getEditorAPI())},getHelpId:function(){return this.props.helpId?this.props.helpId:d.getDesignPanelHelpIdByComp(this.props.compType,this.props.compRef,this.getEditorAPI())},getSections:function(){return this.props.getSections?this.props.getSections():d.getSectionsByComponentType(this.props.compType,this.props.compRef,this.getEditorAPI())},onClick:function(a,b,c,d){this.props.changePermanentState(a,d),this.setState({selectedItemKey:d}),this.getEditorAPI().history.add("clicked on new item in design panel"),this.reportToBI(a,b,c,d)},reportToBI:function(a,b,c,d){var e=this.getEditorAPI(),g=h.getCompDefStyleId(a,e),i=g?e.theme.styles.get(g):"";e.bi.event(f.bi.events.designPanel.DESIGN_PANEL_SELECT_PRESET_CLICK,{style_id:g,preset_id:d,component_type:this.props.compType,component_id:this.props.compRef.id,preset_data_skin:i&&i.skin,preset_data_tags:c,section:b})},onMouseEnter:function(a,b){this.enter(null,a,b,this.props.changeTempState)},onItemMouseLeave:function(a){this.leave(null,a)},onPanelMouseLeave:function(){this.props.hideComponentSections||this.props.maintainOriginalState()},getSectionRef:function(a,b){return a.type+b},getSectionsClasses:function(){return{sections:!0,"panel-has-children":!!this.props.children&&!b.isEmpty(b.compact(this.props.children))}},getSectionProps:function(a,c,e){return b.assign(a,{id:this.getSectionRef(a,c),additionalScaling:d.addPanelDataConsts.DESIGN_PANEL_SCALE,onClick:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onItemMouseLeave,isSelectedItem:this.props.isSelectedItem,selectedItemKey:this.state.selectedItemKey?[this.state.selectedItemKey]:null,parentType:d.addPanelDataConsts.PANEL_TYPES.DESIGN_PANEL,nextSibling:e[c+1],sectionIndex:c,getAdditionalElementProps:this.props.getAdditionalElementProps,getAdditionalItemProps:function(a){var c=this.props.getAdditionalElementProps&&this.props.getAdditionalElementProps(a.structure)||{};if(this.state.selectedItemKey&&this.state.selectedItemKey===a.id){var d=c.className?c.className+" ":"";c=b.assign(c,{className:d+"design-panel-selected-item",symbolName:"selectedItemDesignPanel"})}return c}.bind(this)})}})}),define("designPanel/panelTypes/changeStyleDesignPanel.rt",["react/addons","lodash","designPanel/core/designPanel","baseUI","util"],function(a,b,c,d,e){"use strict";function f(){var b=this.getAdvancedStylePanelClass();return a.createElement("div",{key:"advancedStylePanel"},a.createElement(b,this.getAdvancedStylingProps()))}return function(){return a.createElement(c,b.assign({},{ref:"designPanel"},this.getPanelProps()),this.state.advancedStyling?null:a.createElement("div",{className:"button-wrapper",key:"customizeDesignBtn"},a.createElement(d.button,{ref:"customizeDesign",className:"button",label:"design_customize_button",onClick:this.openCustomizeDesign,icon:"designButtonBrush"})),this.state.advancedStyling?f.apply(this,[]):null)}}),define("designPanel/panelTypes/changeStyleDesignPanel",["react","lodash","jquery","core","util","advancedStylePanel","designPanel/core/designPanelMixin","designPanel/core/changeStyleHelper","designPanel/panelTypes/changeStyleDesignPanel.rt","experiment!animateChangeStyleButton"],function(a,b,c,d,e,f,g,h,i,j){"use strict";function n(a,c){return b.pick(a.components.layout.get(c),["x","y","width","height"])}function o(a,b){return b.currentStyleId||a.components.style.getId(b.compRef)}var k=["wysiwyg.viewer.skins.page.TransparentPageSkin","wysiwyg.viewer.skins.screenwidthcontainer.TransparentHalfScreen","wysiwyg.viewer.skins.screenwidthcontainer.TransparentScreen","wysiwyg.viewer.skins.area.TransparentArea"],l=["wysiwyg.viewer.skins.photo.NoSkinPhoto","wysiwyg.viewer.skins.VideoSkin"],m={"wysiwyg.viewer.components.svgshape.SvgShape":f.svgShape,"wysiwyg.viewer.components.BoxSlideShowSlide":f.boxSlideShowSlide};return a.createClass({displayName:"changeStyleDesignPanel",mixins:[g,d.mixins.editorAPIMixin],render:i,propTypes:{compRef:a.PropTypes.object.isRequired,compType:a.PropTypes.string.isRequired,onlyAdvancedStyling:a.PropTypes.bool,setStyleFunc:a.PropTypes.func,currentStyleId:a.PropTypes.string,shouldMaintainOriginalLayout:a.PropTypes.bool},getDefaultProps:function(){return{backButtonLabel:"design_panel_back_button_label"}},getStateFromProps:function(a){var b=this.getEditorAPI(),c=o(b,a),e=d.styleManager.getStyleById(b.theme,b.components,c);return{currentStyleId:c,layoutToMaintain:a.shouldMaintainOriginalLayout&&n(b,a.compRef),tempStyleId:d.styleManager.getTempStyleId(b.theme,e)}},componentWillReceiveProps:function(a){var c=this.getEditorAPI(),d=b.isEqual(a.compRef,this.props.compRef);if(d&&this.state.layoutToMaintain){var e=n(c,a.compRef),f=!b.isEqual(this.state.layoutToMaintain,e),g=!b.isEqual(o(c,a),this.state.currentStyleId);f&&!g&&this.setState({layoutToMaintain:e})}},changePermanentState:function(a){var b=this.getEditorAPI(),d=h.getCompDefStyleId(a,b);if(d){this.setComponentStyle(d);var e={currentStyleId:d,currentAdvancedStyleId:"",isStyleChanged:!0,propertiesToMaintain:a.props};if(j){var f=c(this.refs.customizeDesign.getDOMNode());f.removeClass("animate-button"),this.setState(e,function(){f.addClass("animate-button")})}else this.setState(e)}},changeTempState:function(a){var b=this.getEditorAPI(),c=h.getCompDefStyle(a,b);d.styleManager.prepareTempStyleValue(c),c&&this.state.tempStyleId&&(this.props.setStyleFunc?(b.theme.styles.update(this.state.tempStyleId,c,!0),this.props.setStyleFunc(this.state.tempStyleId,!0)):(b.components.layout.update(this.props.compRef,this.state.layoutToMaintain,!0),this.setComponentStyleId(this.state.tempStyleId),b.components.style.update(this.props.compRef,c)))},maintainOriginalState:function(){if(this.state.currentStyleId){var a=this.getEditorAPI();this.setComponentStyle(this.state.currentStyleId),this.props.setStyleFunc||a.components.layout.update(this.props.compRef,this.state.layoutToMaintain,!0)}},isSelectedItem:function(a){return h.isCompDefStyleEqualToStyle(a,this.state.currentStyleId,this.props.compType,this.getEditorAPI())},getPanelProps:function(){var a=this.getEditorAPI();return b.assign(this.getPropsForDesignPanel(),{getAdditionalElementProps:function(c){var d=h.getCompDefStyle(c,a),e={};return b.includes(k,d.skin)?(e.text="DESIGN_LABEL_NO_COLOR",e.className="design-panel-transparent-skin-item"):b.includes(l,d.skin)&&(e.text="Design_Label_No_Frame",e.className="design-panel-no-frame-skin-item"),e}})},getAdvancedStylePanelClass:function(){return m[this.props.compType]?m[this.props.compType]:f.panel}})}),define("designPanel/panelTypes/changeDataDesignPanel.rt",["react/addons","lodash","designPanel/core/designPanel"],function(a,b,c){"use strict";return function(){return a.createElement(c,b.assign({},{ref:"designPanel"},this.getPropsForDesignPanel()))}}),define("designPanel/panelTypes/changeDataDesignPanel",["react","lodash","core","designPanel/core/designPanelMixin","designPanel/panelTypes/changeDataDesignPanel.rt"],function(a,b,c,d,e){"use strict";return a.createClass({displayName:"changeDataDesignPanel",mixins:[d,c.mixins.editorAPIMixin],render:e,getStateFromProps:function(a){return{currentDataItem:this.getEditorAPI().components.data.get(a.compRef)}},changePermanentState:function(a){a.data&&(this.getEditorAPI().components.data.update(this.props.compRef,a.data),this.setState({currentDataItem:a.data}))},changeTempState:function(a){a.data&&this.getEditorAPI().components.data.update(this.props.compRef,a.data)},maintainOriginalState:function(){this.state.currentDataItem&&this.getEditorAPI().components.data.update(this.props.compRef,this.state.currentDataItem)},isSelectedItem:function(a){return a.data===this.state.currentDataItem}})}),define("designPanel/core/changeGalleryHelper",["lodash","experiment"],function(a,b){"use strict";function i(b,e){var f=e;if("number"===b.type&&a.isNumber(e)){var g=b[c],h=b[d];a.isNumber(g)&&a.isNumber(h)?e>h?f=h:g>e&&(f=g):console.log("minimum and maximum are missing or not numbers typed")}return f}function j(b,c,d){var h=b.type,j=d.properties.getSchema(c.type).properties;return a.forEach(f,function(d){var f=g[h][d];if(f){var k=b[f],l=g[c.type][d];if(l){var m=a.isUndefined(k)?j[l][e]:i(j[l],k);c[l]=m}}}),c}function k(a,b){return a.components.is.fullWidth(b)||a.components.layout.isHorizontallyStretchedToScreen(b)}function l(b,c,d){var e;return e=b.components.layout.isHorizontallyStretchedToScreen(c)?b.components.layout.getDock(c):{left:{vw:0,px:0},right:{vw:0,px:0}},a.assign({},d,{docked:e})}function m(b,c){var d=b.siteSegments.getPagesContainer(),e=b.components.layout.getRelativeToScreen(d);return a.assign({},c,{width:h,x:(e.width-h)/2})}function n(a,c,d){var e=d.layout;if(!k(a,c))return e;var f=b.isOpen("exp171")&&!b.isOpen("se_screenWidthOff");return f&&a.components.layout.canBeStretchedByStructure(d)?l(a,c,e):a.components.is.fullWidthByStructure(d)?e:m(a,e)}var c="minimum",d="maximum",e="default",f=["columns","rows","margin","textAlignment","showMoreLabel","autoplay","autoplayInterval","galleryImageOnClickAction"],g={MatrixGalleryProperties:{columns:"numCols",rows:"maxRows",margin:"margin",textAlignment:"alignText",showMoreLabel:"showMoreLabel",autoplay:"",autoplayInterval:"",galleryImageOnClickAction:"galleryImageOnClickAction"},PaginatedGridGalleryProperties:{columns:"numCols",rows:"maxRows",margin:"margin",textAlignment:"",showMoreLabel:"",autoplay:"autoplay",autoplayInterval:"autoplayInterval",galleryImageOnClickAction:"galleryImageOnClickAction"},SlideShowGalleryProperties:{columns:"",rows:"",margin:"",textAlignment:"",showMoreLabel:"",autoplay:"autoplay",autoplayInterval:"autoplayInterval",galleryImageOnClickAction:"galleryImageOnClickAction"},SliderGalleryProperties:{columns:"",rows:"",margin:"margin",textAlignment:"",showMoreLabel:"",autoplay:"",autoplayInterval:"",galleryImageOnClickAction:"galleryImageOnClickAction"},HoneycombProperties:{columns:"numOfColumns",rows:"",margin:"margin",textAlignment:"alignText",showMoreLabel:"",autoplay:"",autoplayInterval:"",galleryImageOnClickAction:"galleryImageOnClickAction"},CollageProperties:{columns:"",rows:"",margin:"margin",textAlignment:"alignText",showMoreLabel:"",autoplay:"",autoplayInterval:"",galleryImageOnClickAction:"galleryImageOnClickAction"},MasonryProperties:{columns:"numCols",rows:"",margin:"margin",textAlignment:"alignText",showMoreLabel:"",autoplay:"",autoplayInterval:"",galleryImageOnClickAction:"galleryImageOnClickAction"},ThumbnailsProperties:{columns:"",rows:"",margin:"margin",textAlignment:"alignText",showMoreLabel:"",autoplay:"autoplay",autoplayInterval:"autoplayInterval",galleryImageOnClickAction:"galleryImageOnClickAction"},AccordionProperties:{columns:"",rows:"",margin:"",textAlignment:"alignText",showMoreLabel:"",autoplay:"",autoplayInterval:"",galleryImageOnClickAction:"galleryImageOnClickAction"},FreestyleProperties:{columns:"",rows:"",margin:"",textAlignment:"",showMoreLabel:"",autoplay:"",autoplayInterval:"",galleryImageOnClickAction:"galleryImageOnClickAction"},StripSlideshowProperties:{columns:"",rows:"",margin:"",textAlignment:"alignText",showMoreLabel:"",autoplay:"autoplay",autoplayInterval:"autoplayInterval"},StripShowcaseProperties:{columns:"",rows:"",margin:"imageMargin",textAlignment:"",showMoreLabel:"",autoplay:"autoplay",autoplayInterval:"autoplayInterval",galleryImageOnClickAction:"galleryImageOnClickAction"},ImpressProperties:{columns:"",rows:"",margin:"",textAlignment:"alignText",showMoreLabel:"",autoplay:"autoplay",autoplayInterval:"autoplayInterval",galleryImageOnClickAction:"galleryImageOnClickAction"}},h=568;return{convertGalleryProperties:j,convertGalleryLayouts:n}}),define("designPanel/panelTypes/changeGalleryDesignPanel.rt",["react/addons","lodash","designPanel/core/designPanel","baseUI","util","advancedStylePanel","compPanels"],function(a,b,c,d,e,f,g){"use strict";function h(){var e=this.getAdvancedStyleClass();return a.createElement(c,b.assign({},{ref:"designPanel"},this.getPropsForDesignPanel()),!this.state.advancedStyling&&e?a.createElement("div",{className:"button-wrapper",key:"customizeDesignBtn"},a.createElement(d.button,{className:"button",ref:"customizeDesign",label:"design_customize_button",onClick:this.openCustomizeDesign,icon:"designButtonBrush"})):null,this.state.advancedStyling&&e?a.createElement("div",{key:"advancedStylePanel"},a.createElement(e,this.getAdvancedStylingProps())):null)}return function(){return h.apply(this,[])}}),define("designPanel/panelTypes/changeGalleryDesignPanel",["react","lodash","jquery","core","advancedStylePanel","designPanel/core/designPanelMixin","designPanel/core/changeGalleryHelper","designPanel/core/changeStyleHelper","designPanel/panelTypes/changeGalleryDesignPanel.rt","experiment"],function(a,b,c,d,e,f,g,h,i,j){"use strict";function m(a,c,d,e,f,h,i){var j={componentType:d.componentType,type:"Component",style:h,layout:i,data:e,props:f};return b.assign(j,{layout:g.convertGalleryLayouts(a,c,j)})}function n(a,b,c,d,e,f,h,i){var k=g.convertGalleryProperties(c,b.props,h),l=m(h,a,b,d,k,e,f),n=h.components.getContainer(a),o=h.ui.scroll.getScroll();h.components.remove(a,void 0,{isReplacingComp:!0});var p;j.isOpen("ds_OperationsQAllAsync")?(p=h.components.add(n,l),h.waitForChangesApplied(function(){h.selection.selectComponentByCompRef(p),h.ui.scroll.setScroll(o),i&&i(p)})):h.waitForChangesApplied(function(){p=h.components.add(n,l),h.selection.selectComponentByCompRef(p),h.waitForChangesApplied(function(){h.ui.scroll.setScroll(o),i&&i(p)})})}var k=["tpa.viewer.components.StripShowcase","wysiwyg.viewer.components.tpapps.TPA3DCarousel","wysiwyg.viewer.components.tpapps.TPA3DGallery"],l=["wysiwyg.viewer.components.SliderGallery","wysiwyg.viewer.components.SlideShowGallery","wysiwyg.viewer.components.MatrixGallery","wysiwyg.viewer.components.PaginatedGridGallery"];return a.createClass({displayName:"changeGalleryDesignPanel",mixins:[f,d.mixins.editorAPIMixin],render:i,getDefaultProps:function(){return{backButtonLabel:"design_panel_back_button_label"}},getStateFromProps:function(a){var c=this.getEditorAPI(),d=b.omit(c.components.layout.get(a.compRef),"anchors");return{propertyItemToMaintain:c.components.properties.get(a.compRef),dataItemToMaintain:c.components.data.get(a.compRef),layoutToMaintain:d,currentStyleId:c.components.style.getId(a.compRef)}},changePermanentState:function(a){var b=this.getEditorAPI(),d=h.getCompDefStyleId(a,b);n(this.props.compRef,a,this.state.propertyItemToMaintain,this.state.dataItemToMaintain,d,this.state.layoutToMaintain,b,function(a){this.newGalleryRef=a;var b={currentStyleId:d,currentAdvancedStyleId:"",isStyleChanged:!0};if(j.isOpen("animateChangeStyleButton")){var e=c(this.refs.customizeDesign.getDOMNode());e.removeClass("animate-button"),this.setState(b,function(){e.addClass("animate-button")})}else this.setState(b)}.bind(this))},changeTempState:function(){},maintainOriginalState:function(){},isSelectedItem:function(a){var b=this.getEditorAPI(),c=a.compType||a.componentType;return c===this.props.compType?h.isCompDefStyleEqualToStyle(a,this.state.currentStyleId,this.props.compType,b):!1},getAdvancedStyleClass:function(){return b.includes(k,this.props.compType)?null:b.includes(l,this.props.compType)?e.panel:e.tpaGallery},dontResetState:function(a){return this.newGalleryRef&&b.isEqual(this.newGalleryRef,a.compRef)}})}),define("designPanel/wixapps/wixappsDesignSubComponentsPanel.rt",["react/addons","lodash","baseUI","core","compPanels","util"],function(a,b,c,d,e,f){"use strict";function g(a,b,c){this.updateCompValue(a.customization,String(c))}function h(b,d){return a.createElement("div",{},b.customization||b.styleCustomizationRules.length?a.createElement("div",{key:b.label},a.createElement(c.checkboxWithButton,{label:b.label,shouldTranslate:!0,className:"design-customization-checkbox",buttonLabel:"blog_design_panel_customize_design",value:b.customization?this.isChecked(b.customization):!0,onChange:g.bind(this,b,d),onButtonClick:this.openCustomizeDesign.bind(this,b),isCheckboxDisabled:!b.customization,isButtonDisabled:!b.styleCustomizationRules.length}),d!==this.getComps().length-1?a.createElement("hr",{key:"divider-long",className:"divider-long"}):null):null)}return function(){return a.createElement.apply(this,[e.compPanelFrame,b.assign({},{title:this.getSelectedAppPartDisplayName()+"_design",helpId:this.getComponentHelpIdByType("design")},this.getFrameProps()),b.map(this.getComps(),h.bind(this))])}}),define("designPanel/wixapps/wixappsFontCustomizationPanel.rt",["react/addons","lodash","baseUI","textControls","compPanels","helpIds"],function(a,b,c,d,e,f){"use strict";function g(a,c){var d=b.assign({},a,c);return a.hasOwnProperty("style")&&(d.style=b.defaults(d.style,a.style)),a.hasOwnProperty("className")&&c.hasOwnProperty("className")&&(d.className=c.className+" "+a.className),d}function h(a,b){this.setFontFamily(b)}function i(){var b=this.getEditorAPI();return a.createElement(d.fontFamily,{fonts:d.fontUtils.getCurrentSelectableFontsWithParams(b),infoText:"text_editor_font_tooltip",label:"text_editor_font_label",onChange:h.bind(this,b),value:this.getFontFamily()})}function j(a){this.setFontSize(a)}function k(a,b){this.setBold(!b)}function l(b){var c=this.isBold();return a.createElement(d.iconButton,{isSelected:c,name:"textBold",tooltipValue:"text_editor_buttons_tooltip_bold",tooltipStyleType:b,onClick:k.bind(this,b,c)})}function m(a,b){this.setItalic(!b)}function n(b){var c=this.isItalic();return a.createElement(d.iconButton,{isSelected:c,name:"textItalic",tooltipValue:"text_editor_buttons_tooltip_italic",tooltipStyleType:b,onClick:m.bind(this,b,c)})}function o(a,b){this.setUnderlined(!b)}function p(b){var c=this.isUnderlined();return a.createElement(d.iconButton,{isSelected:c,name:"textUnderline",tooltipValue:"text_editor_buttons_tooltip_underline",tooltipStyleType:b,onClick:o.bind(this,b,c)})}function q(a,b){this.openTextColorPicker(this.setColor,b)}function r(b){var c=this.resolveColor(this.getColor());return a.createElement(d.textColor,{onClick:q.bind(this,b,c),tooltipValue:"text_editor_buttons_tooltip_text_color",tooltipStyleType:b,value:c})}function s(a,b){this.openTextColorPicker(this.setBackgroundColor,"noColor")}function t(b){var c=this.resolveColor(this.getBackgroundColor());return a.createElement(d.textBackgroundColor,{onClick:s.bind(this,b,c),tooltipValue:"text_editor_buttons_tooltip_text_highlight",tooltipStyleType:b,handleNoColor:this.handleNoColor,color:"transparent"!==c?c:null})}function u(){var b=c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL;return a.createElement("div",{className:"button-row"},l.apply(this,[b]),n.apply(this,[b]),p.apply(this,[b]),r.apply(this,[b]),t.apply(this,[b]))}return function(){return a.createElement(e.compPanelFrame,g({className:"settings-panel",panelName:"wixappsFontCustomizationPanel",title:this.props.title,helpId:f.SETTINGS.WRICHTEXT},this.filteredProps()),this.props.customizeTheme?a.createElement(d.textStyle,{key:"textStyleCustomization",label:"text_editor_theme_label",infoText:"text_editor_tooltip_theme",value:this.getTheme(),onChange:this.setTheme,themeColors:this.getEditorAPI().theme.colors.getAll(),themeFonts:this.getEditorAPI().theme.fonts.getAll()}):null,this.props.customizeTheme?a.createElement("hr",{className:"divider-long",key:"textStyleCustomizationSeparator"}):null,i.apply(this,[]),a.createElement("hr",{className:"divider-long"}),this.props.customizeTheme?a.createElement(c.slider,{key:"fontSizeCustomization",label:"text_editor_font_size_label",infoText:"text_editor_font_size_tooltip",value:this.getFontSize(),onChange:j.bind(this),min:d.constants.FONT_SIZE.MIN,max:d.constants.FONT_SIZE.MAX}):null,this.props.customizeTheme?a.createElement("hr",{className:"divider-long",key:"fontSizeCustomizationSeparator"}):null,u.apply(this,[]))}}),define("designPanel/wixapps/wixappsFontCustomizationPanel",["lodash","react","core","compPanels","util","panelUtils","textControls","designPanel/wixapps/wixappsFontCustomizationPanel.rt"],function(a,b,c,d,e,f,g,h){"use strict";return b.createClass({displayName:"wixappsFontCustomizationPanel",mixins:[c.editorAPIMixin,d.compPanelMixin,e.propTypesFilterMixin,d.wixappsPanelMixin,f.linkColorPickerMixin],propTypes:{fieldIds:b.PropTypes.arrayOf(b.PropTypes.string).isRequired,forType:b.PropTypes.string.isRequired,format:b.PropTypes.string.isRequired,view:b.PropTypes.string.isRequired,customizeTheme:b.PropTypes.bool},_getAppPartCustomizationRulesForCompParam:function(a){return this.props.fieldIds.map(function(b){return{fieldId:b,forType:this.props.forType,format:this.props.format,key:"comp."+a,type:"AppPartCustomization",view:this.props.view}},this)},_getValueFromCustomizationsOrDefaultValues:function(a){for(var b=this._getAppPartCustomizationRulesForCompParam(a);b.length;){var c=b.shift(),d=this.linkedCustomization(c);if(d.value)return d.value}},_getValueFromCurrentStyle:function(a){var b=this.getEditorAPI(),c=this.getTheme(),d=g.fontUtils.parseStyleFont(c,b.theme.fonts.getAll(),b.theme.colors.getAll());return d[{fontFamily:"family",fontSize:"size",bold:"bold",italic:"italic",color:"cssColor",backgroundColor:"color"}[a]]},_getValue:function(a){var b=this._getValueFromCustomizationsOrDefaultValues(a);return void 0===b&&(b=this._getValueFromCurrentStyle(a)),b},_setValue:function(a,b){var c=this._getAppPartCustomizationRulesForCompParam(a);c.forEach(function(a){this.linkedCustomization(a).requestChange(b)},this)},getFontFamily:function(){return this._getValue("fontFamily")},setFontFamily:function(a){this._setValue("fontFamily",a)},getFontSize:function(){return this._getValue("fontSize")},setFontSize:function(a){this._setValue("fontSize",a)},_getBooleanCustomizationValue:function(a){return e.stringUtils.isTrue(this._getValue(a))},_setBooleanCustomizationValue:function(a,b){this._setValue(a,b?"true":"false")},isBold:function(){return this._getBooleanCustomizationValue("bold")},setBold:function(a){this._setBooleanCustomizationValue("bold",a)},isItalic:function(){return this._getBooleanCustomizationValue("italic")},setItalic:function(a){this._setBooleanCustomizationValue("italic",a)},isUnderlined:function(){return this._getBooleanCustomizationValue("underline")},setUnderlined:function(a){this._setBooleanCustomizationValue("underline",a)},openTextColorPicker:function(a,b){var c=!0,d={top:this.props.style.top,left:this.props.style.left};this.openColorPicker(a,b,c,d)},getColorValue:function(a){return this._getValue(a)||"noColor"},setAppPartCustomizationValueForColorCompParam:function(a,b){this._setValue(a,b&&"noColor"!==b?b:null)},getColor:function(){return this.getColorValue("color")},setColor:function(a){this.setAppPartCustomizationValueForColorCompParam("color",a)},getBackgroundColor:function(){return this.getColorValue("backgroundColor")},setBackgroundColor:function(a){var b=/^color_/.test(a)?"back"+a:a;this.setAppPartCustomizationValueForColorCompParam("backgroundColor",b)},handleNoColor:function(){this.setAppPartCustomizationValueForColorCompParam("backgroundColor","transparent")},getStyle:function(){return this._getValueFromCustomizationsOrDefaultValues("style")},setStyle:function(a){this.setFontFamily(null),this.setFontSize(null),this.setBold(null),this.setItalic(null),this.setUnderlined(null),this.setColor(null),this.setBackgroundColor(null),this._setValue("style",a)},getTheme:function(){var a=this.getStyle();return this.getEditorAPI().wixapps.classics.styleMapping.styleToFontClass(a)||"font_8"},setTheme:function(a){var b=this.getEditorAPI().wixapps.classics.styleMapping.fontClassToStyle(a);this.setStyle(b)},render:h})}),define("designPanel/wixapps/wixappsDesignCustomizationPanel.rt",["react/addons","lodash","designPanel/panelTypes/changeStyleDesignPanel","designPanel/wixapps/wixappsFontCustomizationPanel"],function(a,b,c,d){"use strict";return function(){return a.createElement("div",{},"wysiwyg.viewer.components.WRichText"!==this.props.compType?a.createElement(c,b.assign({},{key:"changeStyleDesign",getTitle:this.getPanelTitle,compRef:this.getCompRef(),compType:this.props.compType,currentStyleId:this.getStyleId(),selectedComponent:this.props.selectedComponent,setStyleFunc:this.setStyleId},this.getPanelProps())):null,"wysiwyg.viewer.components.WRichText"===this.props.compType?a.createElement(d,b.assign({},{fieldIds:this.getFieldIds(),forType:this.getForType(),format:this.getFormat(),key:"wixappsFontCustomization",selectedComponent:this.props.selectedComponent,title:this.getPanelTitle(),view:this.getView(),customizeTheme:this.props.customizeTheme},this.getPanelProps())):null)}}),define("designPanel/wixapps/wixappsDesignCustomizationPanel",["react","lodash","util","compPanels","designPanel/wixapps/wixappsDesignCustomizationPanel.rt"],function(a,b,c,d,e){"use strict";return a.createClass({displayName:"wixappsDesignCustomizationPanel",mixins:[d.compPanelMixin,c.propTypesFilterMixin,d.wixappsPanelMixin],propTypes:{styleCustomizationRules:a.PropTypes.array.isRequired,compType:a.PropTypes.string.isRequired,panelTitle:a.PropTypes.string.isRequired,panelStyle:a.PropTypes.object.isRequired,customizeTheme:a.PropTypes.bool},getPanelTitle:function(){return this.props.panelTitle},getStyleId:function(){var a=this._getStyleCustomizationRule();return this.linkedCustomization(a).value},getCompRef:function(){return this.getEditorAPI().selection.getSelectedComponents()},setStyleId:function(a){this.props.styleCustomizationRules.forEach(function(b){this.setCustomizationValue(b,a,!0)},this)},customizeDesignCallBack:function(){},getFieldIds:function(){return this.props.styleCustomizationRules.map(function(a){return a.fieldId})},getFormat:function(){var a=this._getStyleCustomizationRule();return a.format},getView:function(){var a=this._getStyleCustomizationRule();return a.view},_getStyleCustomizationRule:function(){return b.first(this.props.styleCustomizationRules)},getForType:function(){var a=this._getStyleCustomizationRule();return a.forType},getPanelProps:function(){return b.assign(this.filteredProps(),{style:this.props.panelStyle})},render:e})}),define("designPanel/wixapps/wixappsDesignSubComponentsPanel",["lodash","react","core","compPanels","designPanel/wixapps/wixappsDesignSubComponentsPanel.rt","designPanel/wixapps/wixappsDesignCustomizationPanel","experiment"],function(a,b,c,d,e,f,g){
"use strict";return b.createClass({displayName:"wixappsDesignSubComponentsPanel",mixins:[d.compPanelMixin,d.wixappsPanelMixin],getStyleCustomizationRules:function(b){var c=this.getAvailableCustomizations("design"),d=this._getFormat();return a.filter(c,function(c){var e=a.isUndefined(c.format)||c.format===d||"*"===c.format,f=b.rules?a.some(b.rules,{fieldId:c.fieldId}):c.fieldId===(b.compId||b.id),g="comp.style"===c.key;return e&&f&&g})},getCompVisibilityCustomization:function(b){var c=a.find(this.getAvailableCustomizations("design"),function(c){return c.relatedComp===b.id&&a.includes(["comp.hidden","showItemsCount","showPostCount"],c.key)});return c&&(c.value=this.linkedCustomization(c).value),c},getComps:function(){var a=this;return this.getInnerComps().filter(function(b){var c;return g.isOpen("se_blogHiddenWhen")&&(c=a.evaluateHiddenWhenCondition(b.hiddenWhen)),!c}).map(function(a){return{label:a.label,id:a.id,type:a.type,customization:this.getCompVisibilityCustomization(a),styleCustomizationRules:this.getStyleCustomizationRules(a)}},this)},isChecked:function(a){return a.value===a.input.trueVal},openCustomizeDesign:function(a){this.props.switchPanelFunc(f,{styleCustomizationRules:a.styleCustomizationRules,compType:this.getEditorAPI().wixapps.classics.getComponentTypeByProxyName(a.type),panelTitle:a.label,panelStyle:this.props.style,customizeTheme:"LabelWithoutTheme"!==a.type})},updateCompValue:function(a,b){a.value=String(b===a.input.trueVal);var c=this.linkedCustomization(a);c.requestChange(a.value)},render:e})}),define("designPanel/wixapps/wixappsDesignPanel",["react","lodash","core","compPanels","designPanel/wixapps/wixappsDesignSubComponentsPanel"],function(a,b,c,d,e){"use strict";return a.createClass({displayName:"WixappsDesignPanel",mixins:[c.mixins.editorAPIMixin,d.panelSwitcherMixin],getDefaultProps:function(){return{backButtonLabel:"list_design_panel_back_button_label"}},getInitialPanelClass:function(){return e}})}),define("designPanel/list/listDesignPresetPanel.rt",["react/addons","lodash","baseUI","designPanel/core/designPanel"],function(a,b,c,d){"use strict";return function(){return a.createElement(d,b.assign({},{title:"list_design_panel_header_label",panelName:"listDesignPresetPanel",compType:"wixapps.integration.components.AppPart2",helpId:this.props.helpId},this.getDesignPanelProps()),a.createElement("div",{className:"button-wrapper"},a.createElement(c.button,{className:"button",label:"list_design_panel_customize_design_button_label",onClick:this.openCustomizeFieldsPanel})))}}),define("designPanel/list/listDesignPanelMixin",["lodash","react","core","util"],function(a,b,c,d){"use strict";return{mixins:[c.mixins.editorAPIMixin],propTypes:{listId:b.PropTypes.string,compRef:b.PropTypes.object.isRequired,switchPanelFunc:b.PropTypes.func.isRequired},switchPanel:function(a,b){this.props.switchPanelFunc(a,b)},getFormat:function(){return this.getEditorAPI().isMobileEditor()?"Mobile":void 0},getListId:function(){return this.props.listId||this.getEditorAPI().components.data.get(this.props.compRef).appPartName},getCompId:function(){return this.props.compRef.id},getFieldPropValue:function(a,b){var c=this.getEditorAPI().wixapps.appbuilder.layout.getField(this.getListId(),a,this.getFormat());return b?c[b]:c},updateFieldPropValue:function(a,b,c){var d={name:a};d[b]=c,this.getEditorAPI().wixapps.appbuilder.layout.setField(this.props.compRef,this.getListId(),d,this.getFormat())},updateFieldPropValueInAllDevices:function(a,b,c){var d={name:a};d[b]=c,this.getEditorAPI().wixapps.appbuilder.layout.setField(this.props.compRef,this.getListId(),d),this.getEditorAPI().wixapps.appbuilder.layout.setField(this.props.compRef,this.getListId(),d,"Mobile")},addHistorySnapshot:function(a,b,c){this.getEditorAPI().history.add("List design update: listId ["+this.props.listId+"] fieldName ["+a+"] prop ["+b+"] newValue ["+c+"]")},getTitleForFieldPanel:function(b){return a.compact([d.translate("list_design_header_prefix"),b,d.translate("list_design_header_suffix")]).join(" ")}}}),define("designPanel/list/listCustomizeFieldsPanel.rt",["react/addons","lodash","baseUI","compPanels","util","core","experiment!appBuilderFeaturesRevival"],function(a,b,c,d,e,f,g){"use strict";function h(a,c){var d=b.assign({},a,c);return a.hasOwnProperty("style")&&(d.style=b.defaults(d.style,a.style)),a.hasOwnProperty("className")&&c.hasOwnProperty("className")&&(d.className=c.className+" "+a.className),d}function i(a,b,c){this.toggleFieldVisibility(a,c)}function j(a,b,c){this.toggleFieldVisibility(a,c)}function k(b,d){return a.createElement("div",{key:b.name},this.canCustomizeField(b)?a.createElement(c.checkboxWithButton,{key:b.name,className:"field-checkbox-component",shouldTranslate:!1,value:!b.hidden,onChange:i.bind(this,b,d),label:b.displayName,buttonLabel:e.translate("list_design_panel_customize_field_call_to_action_label"),onButtonClick:this.openStylePanel.bind(this,b)}):null,this.canCustomizeField(b)?null:a.createElement(c.toggle,{name:"checkbox",labelAfterSymbol:!0,key:b.name,className:"field-checkbox-component",shouldTranslate:!1,value:!b.hidden,onChange:j.bind(this,b,d),label:b.displayName}),a.createElement("hr",{className:"divider-long"}))}function l(a,b){this.setListLayout("hideSeparator",!b)}function m(a){this.openSeparatorDesignPanel(a)}function n(){var b=g&&this.getListLayout();return a.createElement(c.checkboxWithButton,{key:"appBuilderFeaturesRevival",className:"field-checkbox-component",value:!b.hideSeparator,onChange:l.bind(this,b),label:"list_design_panel_separator_label",buttonLabel:"list_design_panel_customize_field_call_to_action_label",onButtonClick:m.bind(this,b)})}return function(){return a.createElement.apply(this,[d.compPanelFrame,h({className:"list-customize-fields",title:"list_design_panel_header_label",panelName:this.panelName},this.filteredProps()),this.shouldShowFirstTime()?a.createElement(c.firstTimeInfoBox,{key:"firstTimeInfoBox",biLearnMore:this.getEditorAPI().bi.event.bind(null,f.bi.events.commonControls.FIRST_TIME_INFO_BOX.LEARN_MORE),biClose:this.getEditorAPI().bi.event.bind(null,f.bi.events.commonControls.FIRST_TIME_INFO_BOX.CLOSE),context:"settings",id:"List_Customization_Teaser",text:"list_customization_panel_teaser_txt",linkText:!0,learnMore:this.openLearnMore,userPrefs:this.getEditorAPI().getUserPreferences()}):null,a.createElement("hr",{className:"divider-long"}),b.map(this.getFields(),k.bind(this)),g?n.apply(this,[]):null])}}),define("designPanel/list/fieldStyleDesignPanel.rt",["react/addons","lodash","baseUI","designPanel/panelTypes/changeStyleDesignPanel"],function(a,b,c,d){"use strict";return function(){return a.createElement(d,b.assign({},{title:this.getTitleForFieldPanel(this.state.fieldData.displayName),compRef:{id:this.props.fieldName},compType:this.state.fieldData.componentType,currentStyleId:this.state.fieldData.style,shouldTranslate:!1,setStyleFunc:this.setFieldStyle.bind(this,this.state.fieldData),shouldMaintainOriginalLayout:!1},b.omit(this.filteredProps(),["shouldMaintainOriginalLayout","currentStyleId","getTitle","compRef","compType","setStyleFunc"])))}}),define("designPanel/list/fieldStyleDesignPanel",["react","lodash","util","designPanel/list/fieldStyleDesignPanel.rt","designPanel/list/listDesignPanelMixin","core"],function(a,b,c,d,e,f){"use strict";function g(a,b){this.getEditorAPI().bi.event(f.bi.events.lists.LIST_DESIGN_FIELD_STYLE_CHANGED,{list_part_id:this.getListId(),component_id:this.getCompId(),field_id:a.name,field_display_name:a.displayName,field_type:a.type,new_style_id:b})}return a.createClass({displayName:"fieldStyleDesignPanel",mixins:[e,c.propTypesFilterMixin],propTypes:{fieldName:a.PropTypes.string.isRequired},getInitialState:function(){var a=this.getFieldPropValue(this.props.fieldName);return{fieldData:a,lastPermanentStyle:a.style}},componentWillReceiveProps:function(){this.setState({fieldData:this.getFieldPropValue(this.props.fieldName)})},setFieldStyle:function(a,b,c){b!==this.state.fieldData.style&&(this.updateFieldPropValueInAllDevices(a.name,"style",b),c||b===this.state.lastPermanentStyle||(this.setState({lastPermanentStyle:b}),g.call(this,a,b)))},render:d})}),define("designPanel/list/listTextFieldDesignPanel.rt",["react/addons","lodash","baseUI","textControls","compPanels"],function(a,b,c,d,e){"use strict";function f(a,c){var d=b.assign({},a,c);return a.hasOwnProperty("style")&&(d.style=b.defaults(d.style,a.style)),a.hasOwnProperty("className")&&c.hasOwnProperty("className")&&(d.className=c.className+" "+a.className),d}function g(a){this.updateFieldProp("fontClass",a)}function h(a){this.updateFieldProp("fontFamily",a)}function i(a){this.updateFieldProp("fontSize",a)}function j(a){this.updateFieldProp("bold",!this.state.fieldData.bold)}function k(a){this.updateFieldProp("italic",!this.state.fieldData.italic)}function l(a){this.updateFieldProp("underline",!this.state.fieldData.underline)}function m(a){this.onClickColor(this.state.fieldData.color)}function n(a,b){this.onClickBackgroundColor(a)}function o(){var b=this.getBackgroundColorForPicker();return a.createElement(d.textBackgroundColor,{color:this.getColorValue(b),onClick:n.bind(this,b),handleNoColor:this.handleNoBackgroundColor,tooltipValue:"text_editor_buttons_tooltip_text_highlight",tooltipStyleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL})}function p(a){this.updateLayoutProp("text-align",a)}return function(){return a.createElement(e.compPanelFrame,f({panelName:"listTextFieldDesignPanel",title:this.getTitleForFieldPanel(this.state.fieldData.displayName),shouldTranslate:!1,className:"settings-panel"},this.filteredProps()),this.props.children?a.createElement("div",{key:"panel-children"},a.createElement("hr",{className:"divider-long"}),"\n        ",this.props.children,"\n    "):null,a.createElement("hr",{className:"divider-long"}),a.createElement(d.textStyle,{label:"text_editor_theme_label",value:this.state.fieldData.fontClass,infoText:"text_editor_tooltip_theme",nullLabel:this.translateIfNeeded("list_design_panel_Customize_TextField_CustomTheme_DropdownItem_Label"),onChange:g.bind(this),themeColors:this.getEditorAPI().theme.colors.getAll(),themeFonts:this.getEditorAPI().theme.fonts.getAll()}),a.createElement("hr",{className:"divider-long"}),a.createElement(d.fontFamily,{label:"text_editor_font_label",value:this.getFontFamilyValue(this.state.fieldData.fontFamily),infoText:"text_editor_font_tooltip",onChange:h.bind(this),fonts:d.fontUtils.getCurrentSelectableFontsWithParams(this.getEditorAPI())}),a.createElement("hr",{className:"divider-long"}),a.createElement(c.slider,{label:"text_editor_font_size_label",value:parseInt(this.state.fieldData.fontSize,10),units:"px",infoText:"text_editor_font_size_tooltip",onChange:i.bind(this),min:d.constants.FONT_SIZE.MIN,max:d.constants.FONT_SIZE.MAX}),a.createElement("hr",{className:"divider-long"}),a.createElement("div",{className:"button-row"},a.createElement(d.iconButton,{name:"textBold",isSelected:this.state.fieldData.bold,onClick:j.bind(this),tooltipValue:"text_editor_buttons_tooltip_bold",tooltipStyleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL}),a.createElement(d.iconButton,{name:"textItalic",isSelected:this.state.fieldData.italic,onClick:k.bind(this),tooltipValue:"text_editor_buttons_tooltip_italic",tooltipStyleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL}),a.createElement(d.iconButton,{name:"textUnderline",isSelected:this.state.fieldData.underline,onClick:l.bind(this),tooltipValue:"text_editor_buttons_tooltip_underline",tooltipStyleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL}),a.createElement(d.textColor,{value:this.getColorValue(this.state.fieldData.color),onClick:m.bind(this),tooltipValue:"text_editor_buttons_tooltip_text_color",tooltipStyleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL}),o.apply(this,[]),a.createElement(d.iconsDropDown,{value:this.state.fieldData.layout["text-align"],onChange:p.bind(this),items:this.textAlignOptions(),tooltipValue:"text_editor_buttons_tooltip_alignment",tooltipStyleType:c.uiConstants.TOOLTIP.STYLE_TYPE.SMALL})))}}),define("designPanel/list/listTextFieldDesignPanel",["react","lodash","core","util","designPanel/list/listTextFieldDesignPanel.rt","designPanel/list/listDesignPanelMixin","textControls"],function(a,b,c,d,e,f,g){"use strict";function h(a){return a&&a.replace(/^backcolor/,"color")}function i(a){return a&&a.replace(/^color/,"backcolor")}function j(a,b){this.getEditorAPI().panelManager.openPanel("panels.toolPanels.colorPicker.colorPickerPanel",{siteCustomColors:this.getEditorAPI().theme.colors.getCustomUsedInSkins(),paletteColors:this.getEditorAPI().theme.colors.getAll(),sessionStorage:this.getEditorAPI().userPreferences.session,displayNoColor:!0,previewOnHover:!1,top:parseInt(this.props.style.top,10)+72+"px",left:parseInt(this.props.style.left,10)-12+"px",value:a,onChange:b},!0)}function k(a){this.updateFieldProp("color",a)}function l(a){a=i(a),this.updateFieldProp("backgroundColor",a)}return a.createClass({displayName:"listTextFieldDesignPanel",mixins:[f,d.propTypesFilterMixin,d.translationMixin],propTypes:{fieldName:a.PropTypes.string.isRequired},getInitialState:function(){return{fieldData:this.getFieldPropValue(this.props.fieldName)}},componentWillReceiveProps:function(){this.setState({fieldData:this.getFieldPropValue(this.props.fieldName)})},getFontFamilyValue:function(a){return a&&g.fontUtils.getFont(a).fontFamily},updateFieldProp:function(a,b){this.updateFieldPropValueInAllDevices(this.props.fieldName,a,b),this.addHistorySnapshot(this.props.fieldName,a,b)},textAlignOptions:function(){return{textAlignCenter:"center",textAlignLeft:"left",textAlignRight:"right",textAlignBlock:"justify"}},getBackgroundColorForPicker:function(){return h(this.state.fieldData.backgroundColor)},updateLayoutProp:function(a,c){var d=b.clone(this.state.fieldData.layout);d[a]=c,this.updateFieldProp("layout",d)},onClickColor:function(a){j.call(this,a,k.bind(this))},onClickBackgroundColor:function(a){j.call(this,a,l.bind(this))},handleNoBackgroundColor:function(){return this.updateFieldProp("backgroundColor",null)},getColorValue:function(a){return a&&0===a.indexOf("backColor")&&(a=h(a)),a&&0===a.indexOf("color")&&(a=this.getEditorAPI().theme.colors.getAll()[a]||a),a},render:e})}),define("designPanel/list/listDateFieldDesignPanel.rt",["react/addons","lodash","designPanel/list/listTextFieldDesignPanel","baseUI"],function(a,b,c,d){"use strict";function e(b,c){return a.createElement(d.dropDown.option,{value:b.value},"\n            ",this.translateIfNeeded(b.label),"\n        ")}return function(){return a.createElement(c,this.props,a.createElement.apply(this,[d.dropDown.select,{label:"list_design_panel_date_format",value:this.getFormatValue(),onChange:this.updateFormatValue},b.map(this.getAllDateFormats(),e.bind(this))]))}}),define("designPanel/list/listDateFieldDesignPanel",["react","util","designPanel/list/listDateFieldDesignPanel.rt","designPanel/list/listDesignPanelMixin"],function(a,b,c,d){"use strict";return a.createClass({displayName:"listDateFieldDesignPanel",mixins:[d,b.translationMixin],propTypes:{fieldName:a.PropTypes.string.isRequired},getFormatValue:function(){return this.getFieldPropValue(this.props.fieldName,"format")},updateFormatValue:function(a){this.updateFieldPropValueInAllDevices(this.props.fieldName,"format",a),this.addHistorySnapshot(this.props.fieldName,"format",a)},getAllDateFormats:function(){return[{label:"LIST_date_format_D/MM/YYYY",value:"m/d/yyyy"},{label:"list_date_format_DD/MM/YYYY",value:"mm/dd/yyyy"},{label:"list__date_format_DD.MM.YYYY",value:"mm.dd.yyyy"},{label:"list__date_format_D.MM.YYYY",value:"m.d.yyyy"},{label:"list__date_format_DD_MMM_YYYY",value:"dd mmm yyyy"},{label:"list__date_format_DD-MM-YYYY",value:"dd-mm-yyyy"},{label:"list__date_format_MMMM_DD_YYYY",value:"mmmm dd, yyyy"},{label:"list__date_format_DD/MM/YYYY",value:"dd/mm/yyyy"},{label:"list__date_format_DD/M/YYYY",value:"d/m/yyyy"},{label:"list__date_format_DD.M.YYYY",value:"d.m.yyyy"}]},render:c})}),define("designPanel/list/listCustomizeFieldsPanel",["react","lodash","util","designPanel/list/listCustomizeFieldsPanel.rt","designPanel/panelTypes/changeStyleDesignPanel","designPanel/list/listDesignPanelMixin","designPanel/list/fieldStyleDesignPanel","designPanel/list/listTextFieldDesignPanel","designPanel/list/listDateFieldDesignPanel","experiment!appBuilderFeaturesRevival","core"],function(a,b,c,d,e,f,g,h,i,j,k){"use strict";function m(a){var b=[a.type,a.componentType].join("|").toLowerCase();return l[b]||g}function n(a){this.getEditorAPI().bi.event(k.bi.events.lists.LIST_DESIGN_FIELD_CUSTOMIZE_CLICKED,{list_part_id:this.getListId(),component_id:this.getCompId(),field_id:a.name,field_display_name:a.displayName,field_type:a.type})}function o(a,b){this.getEditorAPI().bi.event(k.bi.events.lists.LIST_DESIGN_FIELD_VISIBILITY_CHANGED,{list_part_id:this.getListId(),component_id:this.getCompId(),field_id:a.name,field_display_name:a.displayName,field_type:a.type,check_box_status:b?"on":"off"})}var l={"string|wysiwyg.viewer.components.wrichtext":h,"wix:date|wysiwyg.viewer.components.wrichtext":i},p={displayName:"listCustomizeFieldsPanel",mixins:[f,c.propTypesFilterMixin],panelName:"listCustomizeFieldsPanel",getFields:function(){return this.getEditorAPI().wixapps.appbuilder.layout.getAllFields(this.getListId(),this.getFormat())},shouldShowFirstTime:function(){return j&&"1.0"===this.getEditorAPI().wixapps.appbuilder.data.lists.getListVersion(this.getListId())},canCustomizeField:function(a){return!this.getEditorAPI().isMobileEditor()&&"wix:RichText"!==a.type},openStylePanel:function(a){n.call(this,a),this.switchPanel(m(a),{listId:this.getListId(),fieldName:a.name})},toggleFieldVisibility:function(a,b){this.updateFieldPropValue(a.name,"hidden",!b),this.addHistorySnapshot(a.name,"hidden",!b),o.call(this,a,b)},render:d};return j&&b.assign(p,{getListLayout:function(){return this.getEditorAPI().wixapps.appbuilder.layout.getListLayout(this.getListId(),this.getFormat())},setListLayout:function(a,b){var c={};return c[a]=b,this.getEditorAPI().wixapps.appbuilder.layout.setListLayout(this.getListId(),c,this.getFormat())},openLearnMore:function(){var a="54a00e80-0fe5-4b3d-af7e-ec5f38d727f2",b={panel_name:this.panelName,origin:k.constants.BI.HELP.ORIGIN.PANEL,component:this.getEditorAPI().selection.getSelectedComponentType(),learn_more:!0};this.getEditorAPI().panelManager.openHelpCenter(a,null,null,b)},openSeparatorDesignPanel:function(a){this.switchPanel(e,b.assign(this.filteredProps(),{title:this.getTitleForFieldPanel(c.translate("list_design_panel_separator_label")),compRef:{id:"listSeparator"},compType:a.separatorComponentType,currentStyleId:a.separatorStyle,setStyleFunc:this.setListLayout.bind(this,"separatorStyle"),shouldTranslate:!1,shouldMaintainOriginalLayout:!1}))}}),a.createClass(p)}),define("designPanel/list/listDesignPresetPanel",["react","lodash","designPanel/list/listDesignPresetPanel.rt","designPanel/list/listDesignPanelMixin","designPanel/list/listCustomizeFieldsPanel","core"],function(a,b,c,d,e,f){"use strict";function g(a){var b=a.custom.template;this.getEditorAPI().wixapps.appbuilder.layout.setItemTemplate(this.getListId(),b),this.getEditorAPI().components.layout.update(this.props.compRef,{width:a.layout.width},!0)}function h(a){this.getEditorAPI().bi.event(f.bi.events.lists.LIST_DESIGN_PRESET_CHANGED,{list_part_id:this.getListId(),component_id:this.getCompId(),preset_id:a})}return a.createClass({displayName:"listDesignPresetPanel",mixins:[d],propTypes:{compRef:a.PropTypes.object.isRequired},changePermanentState:function(a,b){g.call(this,a),h.call(this,b)},openCustomizeFieldsPanel:function(){this.switchPanel(e,{listId:this.getListId()})},getDesignPanelProps:function(){return b.assign({},this.props,{changePermanentState:this.changePermanentState,changeTempState:b.noop,maintainOriginalState:b.noop})},render:c})}),define("designPanel/list/listDesignPanel",["react","lodash","core","compPanels","designPanel/list/listDesignPresetPanel","designPanel/list/listCustomizeFieldsPanel"],function(a,b,c,d,e,f){"use strict";function g(a){this.getEditorAPI().bi.event(c.bi.events.lists.LIST_DESIGN_BACK_CLICKED,{list_part_id:i.call(this),component_id:this.props.compRef.id,back_to_panel_name:a.displayName})}function h(){this.getEditorAPI().bi.event(c.bi.events.lists.LIST_DESIGN_PANEL_OPENED,{list_part_id:i.call(this),component_id:this.props.compRef.id})}function i(){return this.getEditorAPI().components.data.get(this.props.compRef).appPartName}function j(){return this.getEditorAPI().wixapps.appbuilder.data.lists.getListVersion(i.call(this))}return a.createClass({displayName:"listDesignPanel",mixins:[c.mixins.editorAPIMixin,d.panelSwitcherMixin],propTypes:{compRef:a.PropTypes.object.isRequired},getDefaultProps:function(){return{backButtonLabel:"list_design_panel_back_button_label",helpId:"1d4fc63f-a23a-4ed3-b811-905f18045fe9"}},getInitialPanelClass:function(){return this.getEditorAPI().isMobileEditor()||"1.0"===j.call(this)?f:e},onPreviousPanel:function(a){g.call(this,a)},componentWillMount:function(){h.call(this)}})}),define("designPanel/core/designPanelFactory",["react","lodash","core","designPanel/panelTypes/changeStyleDesignPanel","designPanel/panelTypes/changeDataDesignPanel","designPanel/panelTypes/changeGalleryDesignPanel","designPanel/wixapps/wixappsDesignPanel","designPanel/list/listDesignPanel"],function(a,b,c,d,e,f,g,h){"use strict";function k(a){var b=i[a];return b?this.getEditorAPI().isMobileEditor()&&b.mobile||b.desktop:d}var i={"wysiwyg.common.components.imagebutton.viewer.ImageButton":{desktop:e},"wysiwyg.viewer.components.documentmedia.DocumentMedia":{desktop:e},"wysiwyg.viewer.components.MatrixGallery":{desktop:f},"wysiwyg.viewer.components.PaginatedGridGallery":{desktop:f},"wysiwyg.viewer.components.SliderGallery":{desktop:f},"wysiwyg.viewer.components.SlideShowGallery":{desktop:f},"tpa.viewer.components.Masonry":{desktop:f},"tpa.viewer.components.Accordion":{desktop:f},"tpa.viewer.components.Impress":{desktop:f},"tpa.viewer.components.Freestyle":{desktop:f},"tpa.viewer.components.Collage":{desktop:f},"tpa.viewer.components.Honeycomb":{desktop:f},"tpa.viewer.components.StripShowcase":{desktop:f},"tpa.viewer.components.StripSlideshow":{desktop:f},"tpa.viewer.components.Thumbnails":{desktop:f},"wysiwyg.viewer.components.tpapps.TPA3DGallery":{desktop:f},"wysiwyg.viewer.components.tpapps.TPA3DCarousel":{desktop:f},"wixapps.integration.components.AppPart":{desktop:g},"wixapps.integration.components.AppPart2":{desktop:h}},j={"wysiwyg.viewer.components.svgshape.SvgShape":!0,"wysiwyg.viewer.components.BoxSlideShowSlide":!0,"wysiwyg.viewer.components.LoginButton":!0,"wysiwyg.viewer.components.AdminLoginButton":!0,"wysiwyg.viewer.components.wixhomepage.HomePageLogin":!0,"wysiwyg.viewer.components.BoxSlideShow":!0,"wysiwyg.viewer.components.StripContainerSlideShow":!0};return a.createClass({displayName:"designPanelFactory",mixins:[c.mixins.editorAPIMixin],propTypes:{compRef:a.PropTypes.object,compType:a.PropTypes.string,shouldMaintainOriginalLayout:a.PropTypes.bool},render:function(){var c=this.props.compRef,d=this.props.compType;if(!this.props.compRef||!this.props.compType){var e=this.getEditorAPI().selection.getSelectedComponents();c=b.first(e),d=this.getEditorAPI().components.getType(c)}var f=k.call(this,d),g={compType:d,compRef:c,shouldMaintainOriginalLayout:!0};return j[d]&&(g.onlyAdvancedStyling=!0),a.createElement(f,b.assign(g,this.props))}})}),define("designPanel",["designPanel/core/designPanelFactory","designPanel/list/listDesignPresetPanel","designPanel/list/listCustomizeFieldsPanel","designPanel/list/fieldStyleDesignPanel","designPanel/list/listTextFieldDesignPanel","designPanel/panelTypes/changeStyleDesignPanel"],function(a,b,c,d,e,f){"use strict";return{designPanel:a,changeStyleDesignPanel:f,list:{listDesignPresetPanel:b,listCustomizeFieldsPanel:c,fieldStyleDesignPanel:d,listTextFieldDesignPanel:e}}});